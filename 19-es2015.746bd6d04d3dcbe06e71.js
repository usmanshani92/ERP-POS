(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{"t/nf":function(t,e,n){"use strict";n.r(e),n.d(e,"PurchaseManagementModule",(function(){return nt}));var a=n("ofXK"),i=n("3Pt+"),o=n("aceb"),r=n("vTDv"),b=n("tyNb"),l=n("wwHW"),s=n("egYu"),c=n("Kbzz"),u=n("fXoL"),d=n("0IaG");function h(t,e){1&t&&(u.Ub(0,"p",49),u.Lc(1,"Please enter PO Number"),u.Tb())}function p(t,e){1&t&&(u.Ub(0,"p",49),u.Lc(1,"Please select Order date"),u.Tb())}function g(t,e){if(1&t&&(u.Ub(0,"nb-option",50),u.Lc(1),u.Tb()),2&t){const t=e.$implicit;u.lc("value",t.BranchID),u.Cb(1),u.Mc(t.BranchName)}}function m(t,e){1&t&&(u.Ub(0,"p",49),u.Lc(1,"Please select Supplier"),u.Tb())}function D(t,e){1&t&&(u.Ub(0,"p",49),u.Lc(1,"Please select Item"),u.Tb())}function M(t,e){1&t&&(u.Ub(0,"p",49),u.Lc(1,"Item already exists"),u.Tb())}function O(t,e){1&t&&(u.Ub(0,"p",49),u.Lc(1,"Please enter Price"),u.Tb())}function C(t,e){1&t&&(u.Ub(0,"p",49),u.Lc(1,"Please enter Quantity"),u.Tb())}function P(t,e){if(1&t){const t=u.Vb();u.Ub(0,"tr"),u.Ub(1,"td"),u.Ub(2,"input",53),u.bc("click",(function(){u.yc(t);const n=e.index;return u.fc(2).deleteDetailData(n)})),u.Tb(),u.Tb(),u.Ub(3,"td"),u.Lc(4),u.Tb(),u.Ub(5,"td"),u.Lc(6),u.Tb(),u.Ub(7,"td"),u.Lc(8),u.Tb(),u.Ub(9,"td"),u.Lc(10),u.Tb(),u.Ub(11,"td"),u.Lc(12),u.Tb(),u.Ub(13,"td"),u.Lc(14),u.Tb(),u.Ub(15,"td"),u.Lc(16),u.Tb(),u.Tb()}if(2&t){const t=e.$implicit;u.Cb(4),u.Mc(t.ProductName),u.Cb(2),u.Mc(t.Price),u.Cb(2),u.Mc(t.Quantity),u.Cb(2),u.Mc(t.LineDiscount),u.Cb(2),u.Mc(t.TotalAmount),u.Cb(2),u.Mc(t.TaxAmount),u.Cb(2),u.Mc(t.NetAmount)}}function T(t,e){if(1&t&&(u.Ub(0,"div",22),u.Ub(1,"table",51),u.Ub(2,"tr"),u.Ub(3,"th"),u.Lc(4,"Action"),u.Tb(),u.Ub(5,"th"),u.Lc(6,"Product Name"),u.Tb(),u.Ub(7,"th"),u.Lc(8,"Price"),u.Tb(),u.Ub(9,"th"),u.Lc(10,"Quantity"),u.Tb(),u.Ub(11,"th"),u.Lc(12,"Discount"),u.Tb(),u.Ub(13,"th"),u.Lc(14,"Total Amount"),u.Tb(),u.Ub(15,"th"),u.Lc(16,"Tax Amount"),u.Tb(),u.Ub(17,"th"),u.Lc(18,"Net Amount"),u.Tb(),u.Tb(),u.Jc(19,P,17,7,"tr",52),u.Tb(),u.Tb()),2&t){const t=u.fc();u.Cb(19),u.lc("ngForOf",t.ArrDetailData)}}let f=(()=>{class t{constructor(t,e,n,a,i){this.route=t,this.dialog=e,this.toastrService=n,this.dataservice=a,this.popup=i,this.Culture="ENG",this.ObjMasterData=new U,this.ddlLocation=[],this.ObjDetailData=new y,this.ArrDetailData=[],this.btnSave="Save",this.settings={hideSubHeader:!0,mode:"external",delete:{confirmDelete:!0,deleteButtonContent:'<i class="nb-trash"></i>'},edit:{confirmSave:!0,editButtonContent:'<i class="nb-edit"></i>',saveButtonContent:'<i class="nb-checkmark"></i>',cancelButtonContent:'<i class="nb-close"></i>'},columns:{ProductName:{title:"Product Name",type:"string"},Price:{title:"Price",type:"int"},Quantity:{title:"Quantity",type:"int"},LineDiscount:{title:"Discount",type:"int"},TotalAmount:{title:"Total Amount",type:"int"},TaxAmount:{title:"Tax Amount",type:"int"},NetAmount:{title:"Net Amount",type:"int"}}},this.GridVisibility=!1,this.arrData=[],this.ItemMandatory=!1,this.PriceMandatory=!1,this.QtyMandatory=!1,this.ProductDuplicate=!1,this.SupplierName="",this.ItemBarcode="",this.PONoMandatory=!1,this.OrderDate=!1,this.SupplierDate=!1}ngOnInit(){this.dataservice.checkFormRights("posPurchaseOrder","Allow"),this.GetDropdownSetups(),this.route.queryParams.subscribe(t=>{this.ObjMasterData.POID=t.Id,null!=this.ObjMasterData.POID&&0!=this.ObjMasterData.POID?(this.getPurchaseOrderData(this.ObjMasterData.POID),this.btnSave="Update"):(this.ObjMasterData.POID=0,this.GetNewPONumber())})}GetNewPONumber(){this.dataservice.get("PurchaseOrder/GeneratePONumber/").subscribe(t=>{t&&(this.ObjMasterData.POInvoiceNo=t)},t=>alert("error"))}getPurchaseOrderData(t){this.ObjMasterData=new U,this.ArrDetailData=[],this.GridVisibility=!1,this.TotalQuantity=void 0,this.SubTotal=void 0,this.dataservice.get("PurchaseOrder/GetPurchaseOrderMasterDetailData/"+t).subscribe(t=>{if(this.isArrayHasValue(t[0].MasterData)){let e=t[0].MasterData;this.ObjMasterData.POInvoiceNo=e[0].POInvoiceNo,this.ObjMasterData.OrderDate=e[0].OrderDate,this.ObjMasterData.BranchID=e[0].BranchID,this.ObjMasterData.QuotationRef=e[0].QuotationRef,this.ObjMasterData.SupplierID=e[0].SupplierID,this.SupplierName=e[0].SupplierName,this.ObjMasterData.Description=e[0].Description,this.ObjMasterData.InvoiceDiscount=e[0].InvoiceDiscount,this.ObjMasterData.TotalLineDiscount=e[0].TotalLineDiscount,this.ObjMasterData.NetAmount=e[0].NetAmount}this.isArrayHasValue(t[0].DetailData)&&(this.GridVisibility=!0,this.ArrDetailData=t[0].DetailData,this.TotalQuantity=this.getSum(this.ArrDetailData,"Quantity"),this.SubTotal=this.getSum(this.ArrDetailData,"TotalAmount"))},t=>alert("error"))}onRoleDelete(t){console.log("Delete Event In Console"),window.confirm("Are you sure you want to delete?")}onEditRowSelect(t){}DetailSavingClick(){this.ItemMandatory=!1;let t=!1;null!=this.ObjDetailData.ProductID&&""!=this.ObjDetailData.ProductID||(this.ItemMandatory=!0,t=!0),null!=this.ObjDetailData.Price&&""!=this.ObjDetailData.Price||(this.PriceMandatory=!0,t=!0),null!=this.ObjDetailData.Quantity&&""!=this.ObjDetailData.Quantity||(this.QtyMandatory=!0,t=!0),1==this.IsDuplicateExists(this.ObjDetailData.ProductID,this.ArrDetailData,"ProductID")&&(this.ProductDuplicate=!0,t=!0),t||(this.GridVisibility=!0,this.ArrDetailData.push(this.ObjDetailData),console.log(this.ArrDetailData),this.ObjDetailData=new y,this.ItemBarcode="",this.ObjDetailData.NetAmount=null,this.TotalQuantity=this.getSum(this.ArrDetailData,"Quantity"),this.SubTotal=this.getSum(this.ArrDetailData,"NetAmount"),null==this.ObjMasterData.InvoiceDiscount||""==this.ObjMasterData.InvoiceDiscount||isNaN(this.ObjMasterData.InvoiceDiscount)?this.ObjMasterData.NetAmount=this.getSum(this.ArrDetailData,"NetAmount"):(this.ObjMasterData.NetAmount=this.getSum(this.ArrDetailData,"NetAmount")-this.ObjMasterData.InvoiceDiscount,this.ObjMasterData.TotalLineDiscount=this.ObjMasterData.NetAmount))}deleteDetailData(t){this.ArrDetailData.splice(t,1),0===this.ArrDetailData.length&&(this.GridVisibility=!1)}getSum(t,e){return t.reduce((t,n)=>t+n[e],0)}IsDuplicateExists(t,e,n){var a;for(a=0;a<e.length;a++)if(e[a][n]==t)return!0;return!1}GetDropdownSetups(){this.dataservice.get("PurchaseOrder/GetSetupData/"+this.Culture).subscribe(t=>{this.isArrayHasValue(t[0].Location)&&(this.ddlLocation=t[0].Location,this.ObjMasterData.BranchID=this.ddlLocation[0].BranchID)},t=>alert("error"))}openDialogSupplierLookUp(){this.dialog.open(c.a,{width:"700px",data:{columnName:{Id:"",SupplierID:"Supplier ID",SupplierName:"Supplier Name",ContactPerson:"Contact Person",MobilePhone:"Mobile Phone"},whereClause:{Id:"1"},url:"PurchaseOrder/lookupSupplier",urlSearch:"PurchaseOrder/lookupSupplierSearch",hideColumns:"Id",headingName:"Supplier"}}).afterClosed().subscribe(t=>{null!=t&&(this.ObjMasterData.SupplierID=t.SupplierID,this.SupplierName=t.SupplierName)})}openDialogItemBarcodeLookUp(){this.dialog.open(c.a,{width:"700px",data:{columnName:{Id:"",ProductID:"Product ID",ProductCode:"Product Code",ProductName:"Product Name",Barcode:"Barcode"},whereClause:{Id:"1"},url:"PurchaseOrder/lookupItemBarcode",urlSearch:"PurchaseOrder/lookupItemBarcodeSearch",hideColumns:"Id",headingName:"Product"}}).afterClosed().subscribe(t=>{null!=t&&(console.log(t),this.ObjDetailData.ProductID=t.ProductID,this.ItemBarcode=t.Barcode,this.ObjDetailData.ProductName=t.ProductName,this.ItemMandatory=!1)})}isArrayHasValue(t){return Boolean(Array.isArray(t)&&t.length)}SaveData(){this.PONoMandatory=!1,this.OrderDate=!1,this.SupplierDate=!1;let t=!1;if(null!=this.ObjMasterData.POInvoiceNo&&""!=this.ObjMasterData.POInvoiceNo||(this.PONoMandatory=!0,t=!0),null!=this.ObjMasterData.OrderDate&&""!=this.ObjMasterData.OrderDate||(this.OrderDate=!0,t=!0),null!=this.ObjMasterData.SupplierID&&""!=this.ObjMasterData.SupplierID||(this.SupplierDate=!0,t=!0),t)return;let e=[];this.dataservice.post("PurchaseOrder/SaveRecord/",[this.ObjMasterData.POID,this.ObjMasterData,this.ArrDetailData]).subscribe(t=>{t&&(e=t.split("|"),"Insert"==t?(this.ObjMasterData=new U,this.ObjDetailData=new y,this.TotalQuantity=void 0,this.SubTotal=void 0,this.arrData=[],this.popup.ShowPopup("Insert"),this.GridVisibility=!1,this.SupplierName="",this.GetNewPONumber()):"Update"==t?this.popup.ShowPopup("Update"):alert("error"))},t=>alert("error"))}PriceChange(){let t;this.PriceMandatory=!1,this.QtyMandatory=!1;let e=parseInt(this.ObjDetailData.Price)*parseInt(this.ObjDetailData.Quantity);isNaN(e)||(this.ObjDetailData.NetAmount=e,this.ObjDetailData.TotalAmount=e,isNaN(this.ObjDetailData.LineDiscount)||""==this.ObjDetailData.LineDiscount||null==this.ObjDetailData.LineDiscount||(t=e-parseFloat(this.ObjDetailData.LineDiscount),e=t,this.ObjDetailData.NetAmount=e,this.ObjDetailData.TotalAmount=e))}InvDiscountChange(){let t=parseInt(this.SubTotal)-parseInt(this.ObjMasterData.InvoiceDiscount);isNaN(t)||(this.ObjMasterData.TotalLineDiscount=t,this.ObjMasterData.NetAmount=t)}TaxAmountChange(){let t=parseInt(this.ObjDetailData.TotalAmount)+parseInt(this.ObjDetailData.TaxAmount);isNaN(t)||(this.ObjDetailData.NetAmount=t)}}return t.\u0275fac=function(e){return new(e||t)(u.Ob(b.a),u.Ob(d.b),u.Ob(o.sb),u.Ob(l.a),u.Ob(s.a))},t.\u0275cmp=u.Ib({type:t,selectors:[["ngx-purchaseorder"]],decls:135,vars:31,consts:[[1,"row"],[1,"col-md-6","col-sm-12"],[1,"form-group"],["for","bPONo",1,"label"],["nbInput","","fullWidth","","name","bPONo","placeholder","PO Number","readonly","",3,"ngModel","ngModelChange"],["class","caption status-danger",4,"ngIf"],["for","bod",1,"label"],["nbInput","","placeholder","Order Date","name","bod","autocomplete","off",2,"width","100%",3,"ngModel","nbDatepicker","ngModelChange"],["formpicker",""],["name","bActive",2,"display","none",3,"ngModel","ngModelChange"],["for","bLocation",1,"label"],["fullWidth","","name","bLocation",3,"selected","selectedChange"],[3,"value",4,"ngFor","ngForOf"],["for","bref",1,"label"],["nbInput","","fullWidth","","name","bref","placeholder","Reference",3,"ngModel","ngModelChange"],["for","bSupplier",1,"label"],["nbInput","","fullWidth","","name","bSupplier","placeholder","Supplier Name","readonly","",2,"width","89%",3,"ngModel","ngModelChange"],[1,"fa","fa-search",3,"click"],["for","bBarcode",1,"label"],["nbInput","","fullWidth","","name","bBarcode","placeholder","Item Barcode",2,"width","89%",3,"ngModel","ngModelChange"],["for","bIN",1,"label"],["nbInput","","fullWidth","","name","bIN","placeholder","Item Name","readonly","",2,"cursor","not-allowed",3,"ngModel","ngModelChange"],[1,"table-responsive"],["width","100%",1,"table","table-condensed","table-striped","table-bordered","table-hover"],[2,"color","white","background-color","#53555B","height","30px"],["nbInput","","fullWidth","","name","bCP","type","number","maxlength","8",3,"ngModel","input","ngModelChange"],["nbInput","","fullWidth","","name","bqty","type","number","maxlength","5",3,"ngModel","input","ngModelChange"],["nbInput","","fullWidth","","name","bDiscount","type","number","maxlength","5",3,"ngModel","input","ngModelChange"],["nbInput","","fullWidth","","name","bTotal","type","number","maxlength","10",3,"ngModel","ngModelChange"],["nbInput","","fullWidth","","name","btxA","type","number","maxlength","10",3,"ngModel","input","ngModelChange"],["nbInput","","fullWidth","","name","bNamt","type","number","readonly","",2,"cursor","not-allowed",3,"ngModel","ngModelChange"],["nbButton","","status","success",3,"click"],["class","table-responsive",4,"ngIf"],[1,"col-lg-8"],[1,"tab-content"],["id","delivery-method",1,"tab-block"],["action","#",1,"shipping-form"],[1,"form-group","col-md-8"],[1,"text-uppercase",2,"font-size","14px","font-weight","700"],["nbInput","","fullWidth","","name","bsummary",2,"height","100%","width","100%",3,"ngModel","ngModelChange"],[1,"col-lg-4"],[1,"block-body","order-summary"],[1,"order-menu","list-unstyled"],[1,"d-flex","justify-content-between"],["type","text","readonly","",2,"width","130px","text-align","right",3,"value"],[1,"d-flex","justify-content-between",2,"padding-top","5px"],["type","number","maxlength","6",2,"width","130px","text-align","right",3,"ngModel","input","ngModelChange"],["type","text","readonly","",1,"text-primary","price-total",2,"width","130px","text-align","right",3,"value"],[2,"text-align","right"],[1,"caption","status-danger"],[3,"value"],[1,"table","table-condensed","table-striped","table-bordered","table-hover"],[4,"ngFor","ngForOf"],["type","image","width","30","height","20","src","../../../../assets/images/delete.png",3,"click"]],template:function(t,e){if(1&t&&(u.Ub(0,"nb-card"),u.Ub(1,"nb-card-header"),u.Lc(2," Purchase Order "),u.Tb(),u.Ub(3,"nb-card-body"),u.Ub(4,"div",0),u.Ub(5,"div",1),u.Ub(6,"div",2),u.Ub(7,"label",3),u.Lc(8,"PO Number"),u.Tb(),u.Ub(9,"input",4),u.bc("ngModelChange",(function(t){return e.ObjMasterData.POInvoiceNo=t})),u.Tb(),u.Jc(10,h,2,0,"p",5),u.Tb(),u.Tb(),u.Ub(11,"div",1),u.Ub(12,"div",2),u.Ub(13,"label",6),u.Lc(14,"Order Date"),u.Tb(),u.Ub(15,"input",7),u.bc("ngModelChange",(function(t){return e.ObjMasterData.OrderDate=t})),u.Tb(),u.Pb(16,"nb-datepicker",null,8),u.Jc(18,p,2,0,"p",5),u.Lc(19,"\xa0\xa0\xa0 "),u.Ub(20,"nb-checkbox",9),u.bc("ngModelChange",(function(t){return e.ObjMasterData.Posted=t})),u.Lc(21,"Posted"),u.Tb(),u.Tb(),u.Tb(),u.Ub(22,"div",1),u.Ub(23,"div",2),u.Ub(24,"label",10),u.Lc(25,"Location"),u.Tb(),u.Ub(26,"nb-select",11),u.bc("selectedChange",(function(t){return e.ObjMasterData.BranchID=t})),u.Jc(27,g,2,2,"nb-option",12),u.Tb(),u.Tb(),u.Tb(),u.Ub(28,"div",1),u.Ub(29,"div",2),u.Ub(30,"label",13),u.Lc(31,"Reference"),u.Tb(),u.Ub(32,"input",14),u.bc("ngModelChange",(function(t){return e.ObjMasterData.QuotationRef=t})),u.Tb(),u.Tb(),u.Tb(),u.Ub(33,"div",1),u.Ub(34,"div",2),u.Ub(35,"label",15),u.Lc(36,"Supplier Name"),u.Tb(),u.Ub(37,"input",16),u.bc("ngModelChange",(function(t){return e.SupplierName=t})),u.Tb(),u.Lc(38," \xa0\xa0 "),u.Ub(39,"i",17),u.bc("click",(function(){return e.openDialogSupplierLookUp()})),u.Tb(),u.Jc(40,m,2,0,"p",5),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Ub(41,"nb-card-body"),u.Pb(42,"hr"),u.Ub(43,"div",0),u.Ub(44,"div",1),u.Ub(45,"div",2),u.Ub(46,"label",18),u.Lc(47,"Item Barcode"),u.Tb(),u.Ub(48,"input",19),u.bc("ngModelChange",(function(t){return e.ItemBarcode=t})),u.Tb(),u.Lc(49,"\xa0\xa0 "),u.Ub(50,"i",17),u.bc("click",(function(){return e.openDialogItemBarcodeLookUp()})),u.Tb(),u.Jc(51,D,2,0,"p",5),u.Jc(52,M,2,0,"p",5),u.Tb(),u.Tb(),u.Ub(53,"div",1),u.Ub(54,"div",2),u.Ub(55,"label",20),u.Lc(56,"Item Name"),u.Tb(),u.Ub(57,"input",21),u.bc("ngModelChange",(function(t){return e.ObjDetailData.ProductName=t})),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Ub(58,"div",0),u.Ub(59,"div",22),u.Ub(60,"table",23),u.Ub(61,"tr",24),u.Ub(62,"td"),u.Lc(63,"Cost Price"),u.Tb(),u.Ub(64,"td"),u.Lc(65,"Quantity"),u.Tb(),u.Ub(66,"td"),u.Lc(67,"Discount"),u.Tb(),u.Ub(68,"td"),u.Lc(69,"Total Amount"),u.Tb(),u.Ub(70,"td"),u.Lc(71,"Tax Amount"),u.Tb(),u.Ub(72,"td"),u.Lc(73,"Net Amount"),u.Tb(),u.Pb(74,"td"),u.Tb(),u.Ub(75,"tr"),u.Ub(76,"td"),u.Ub(77,"input",25),u.bc("input",(function(){return e.PriceChange()}))("ngModelChange",(function(t){return e.ObjDetailData.Price=t})),u.Tb(),u.Jc(78,O,2,0,"p",5),u.Tb(),u.Ub(79,"td"),u.Ub(80,"input",26),u.bc("input",(function(){return e.PriceChange()}))("ngModelChange",(function(t){return e.ObjDetailData.Quantity=t})),u.Tb(),u.Jc(81,C,2,0,"p",5),u.Tb(),u.Ub(82,"td"),u.Ub(83,"input",27),u.bc("input",(function(){return e.PriceChange()}))("ngModelChange",(function(t){return e.ObjDetailData.LineDiscount=t})),u.Tb(),u.Tb(),u.Ub(84,"td"),u.Ub(85,"input",28),u.bc("ngModelChange",(function(t){return e.ObjDetailData.TotalAmount=t})),u.Tb(),u.Tb(),u.Ub(86,"td"),u.Ub(87,"input",29),u.bc("input",(function(){return e.TaxAmountChange()}))("ngModelChange",(function(t){return e.ObjDetailData.TaxAmount=t})),u.Tb(),u.Tb(),u.Ub(88,"td"),u.Ub(89,"input",30),u.bc("ngModelChange",(function(t){return e.ObjDetailData.NetAmount=t})),u.Tb(),u.Tb(),u.Ub(90,"td"),u.Ub(91,"button",31),u.bc("click",(function(){return e.DetailSavingClick()})),u.Lc(92,"Add"),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Jc(93,T,20,1,"div",32),u.Tb(),u.Tb(),u.Ub(94,"nb-card-body"),u.Ub(95,"div",0),u.Ub(96,"div",33),u.Ub(97,"div",34),u.Ub(98,"div",35),u.Ub(99,"form",36),u.Ub(100,"div",0),u.Ub(101,"div",37),u.Ub(102,"label",38),u.Lc(103,"Description"),u.Tb(),u.Ub(104,"textarea",39),u.bc("ngModelChange",(function(t){return e.ObjMasterData.Description=t})),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Ub(105,"div",40),u.Pb(106,"br"),u.Ub(107,"div",41),u.Ub(108,"label",38),u.Lc(109,"Purchase Order Summary"),u.Tb(),u.Ub(110,"ul",42),u.Ub(111,"li",43),u.Ub(112,"span"),u.Lc(113,"Total Quantity "),u.Tb(),u.Pb(114,"input",44),u.Tb(),u.Ub(115,"li",45),u.Ub(116,"span"),u.Lc(117,"Sub Total"),u.Tb(),u.Pb(118,"input",44),u.Tb(),u.Ub(119,"li",45),u.Ub(120,"span"),u.Lc(121,"Invoice Discount"),u.Tb(),u.Ub(122,"input",46),u.bc("input",(function(){return e.InvDiscountChange()}))("ngModelChange",(function(t){return e.ObjMasterData.InvoiceDiscount=t})),u.Tb(),u.Tb(),u.Ub(123,"li",45),u.Ub(124,"span"),u.Lc(125,"After inv Discount"),u.Tb(),u.Pb(126,"input",44),u.Tb(),u.Ub(127,"li",45),u.Ub(128,"span"),u.Lc(129,"Net Amount"),u.Tb(),u.Pb(130,"input",47),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Pb(131,"hr"),u.Ub(132,"div",48),u.Ub(133,"button",31),u.bc("click",(function(){return e.SaveData()})),u.Lc(134),u.Tb(),u.Tb(),u.Tb(),u.Tb()),2&t){const t=u.uc(17);u.Cb(9),u.lc("ngModel",e.ObjMasterData.POInvoiceNo),u.Cb(1),u.lc("ngIf",e.PONoMandatory),u.Cb(5),u.lc("ngModel",e.ObjMasterData.OrderDate)("nbDatepicker",t),u.Cb(3),u.lc("ngIf",e.OrderDate),u.Cb(2),u.lc("ngModel",e.ObjMasterData.Posted),u.Cb(6),u.lc("selected",e.ObjMasterData.BranchID),u.Cb(1),u.lc("ngForOf",e.ddlLocation),u.Cb(5),u.lc("ngModel",e.ObjMasterData.QuotationRef),u.Cb(5),u.lc("ngModel",e.SupplierName),u.Cb(3),u.lc("ngIf",e.SupplierDate),u.Cb(8),u.lc("ngModel",e.ItemBarcode),u.Cb(3),u.lc("ngIf",e.ItemMandatory),u.Cb(1),u.lc("ngIf",e.ProductDuplicate),u.Cb(5),u.lc("ngModel",e.ObjDetailData.ProductName),u.Cb(20),u.lc("ngModel",e.ObjDetailData.Price),u.Cb(1),u.lc("ngIf",e.PriceMandatory),u.Cb(2),u.lc("ngModel",e.ObjDetailData.Quantity),u.Cb(1),u.lc("ngIf",e.QtyMandatory),u.Cb(2),u.lc("ngModel",e.ObjDetailData.LineDiscount),u.Cb(2),u.lc("ngModel",e.ObjDetailData.TotalAmount),u.Cb(2),u.lc("ngModel",e.ObjDetailData.TaxAmount),u.Cb(2),u.lc("ngModel",e.ObjDetailData.NetAmount),u.Cb(4),u.lc("ngIf",e.GridVisibility),u.Cb(11),u.lc("ngModel",e.ObjMasterData.Description),u.Cb(10),u.mc("value",e.TotalQuantity),u.Cb(4),u.mc("value",e.SubTotal),u.Cb(4),u.lc("ngModel",e.ObjMasterData.InvoiceDiscount),u.Cb(4),u.mc("value",e.ObjMasterData.TotalLineDiscount),u.Cb(4),u.mc("value",e.ObjMasterData.NetAmount),u.Cb(4),u.Mc(e.btnSave)}},directives:[o.o,o.q,o.n,o.H,i.b,i.p,i.s,a.p,o.z,o.y,o.t,o.bb,a.o,i.u,i.k,o.l,i.C,i.q,i.r,o.U],styles:[".nb-theme-default   [_nghost-%COMP%]   .position-select[_ngcontent-%COMP%]{min-width:13rem}.nb-theme-default   [_nghost-%COMP%]   .label[_ngcontent-%COMP%]{display:block}.nb-theme-default   [_nghost-%COMP%]   .input-group.input-group-unstyled[_ngcontent-%COMP%]   input.form-control[_ngcontent-%COMP%]{border-radius:4px}.nb-theme-default   [_nghost-%COMP%]   .input-group-unstyled[_ngcontent-%COMP%]   .input-group-addon[_ngcontent-%COMP%]{border-radius:4px;border:0;background-color:transparent}[dir=ltr]   .nb-theme-default   [_nghost-%COMP%]   nb-card-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:first-child{margin-right:1rem}[dir=rtl]   .nb-theme-default   [_nghost-%COMP%]   nb-card-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:first-child{margin-left:1rem}.nb-theme-dark   [_nghost-%COMP%]   .position-select[_ngcontent-%COMP%]{min-width:13rem}.nb-theme-dark   [_nghost-%COMP%]   .label[_ngcontent-%COMP%]{display:block}.nb-theme-dark   [_nghost-%COMP%]   .input-group.input-group-unstyled[_ngcontent-%COMP%]   input.form-control[_ngcontent-%COMP%]{border-radius:4px}.nb-theme-dark   [_nghost-%COMP%]   .input-group-unstyled[_ngcontent-%COMP%]   .input-group-addon[_ngcontent-%COMP%]{border-radius:4px;border:0;background-color:transparent}[dir=ltr]   .nb-theme-dark   [_nghost-%COMP%]   nb-card-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:first-child{margin-right:1rem}[dir=rtl]   .nb-theme-dark   [_nghost-%COMP%]   nb-card-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:first-child{margin-left:1rem}.nb-theme-cosmic   [_nghost-%COMP%]   .position-select[_ngcontent-%COMP%]{min-width:13rem}.nb-theme-cosmic   [_nghost-%COMP%]   .label[_ngcontent-%COMP%]{display:block}.nb-theme-cosmic   [_nghost-%COMP%]   .input-group.input-group-unstyled[_ngcontent-%COMP%]   input.form-control[_ngcontent-%COMP%]{border-radius:4px}.nb-theme-cosmic   [_nghost-%COMP%]   .input-group-unstyled[_ngcontent-%COMP%]   .input-group-addon[_ngcontent-%COMP%]{border-radius:4px;border:0;background-color:transparent}[dir=ltr]   .nb-theme-cosmic   [_nghost-%COMP%]   nb-card-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:first-child{margin-right:1rem}[dir=rtl]   .nb-theme-cosmic   [_nghost-%COMP%]   nb-card-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:first-child{margin-left:1rem}.nb-theme-corporate   [_nghost-%COMP%]   .position-select[_ngcontent-%COMP%]{min-width:13rem}.nb-theme-corporate   [_nghost-%COMP%]   .label[_ngcontent-%COMP%]{display:block}.nb-theme-corporate   [_nghost-%COMP%]   .input-group.input-group-unstyled[_ngcontent-%COMP%]   input.form-control[_ngcontent-%COMP%]{border-radius:4px}.nb-theme-corporate   [_nghost-%COMP%]   .input-group-unstyled[_ngcontent-%COMP%]   .input-group-addon[_ngcontent-%COMP%]{border-radius:4px;border:0;background-color:transparent}[dir=ltr]   .nb-theme-corporate   [_nghost-%COMP%]   nb-card-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:first-child{margin-right:1rem}[dir=rtl]   .nb-theme-corporate   [_nghost-%COMP%]   nb-card-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:first-child{margin-left:1rem}@media only screen and (max-width:700px){input[type=number][_ngcontent-%COMP%]{width:100px!important}}"]}),t})();class U{constructor(){this.POID=0,this.POInvoiceNo="",this.QuotationRef="",this.OrderDate="",this.DeliveryDate="",this.Description="",this.OrderStatus="P",this.Notes="",this.Posted=!1,this.CreatedBy="",this.CreatedOn=""}}class y{}var I=n("RS3s");const v=function(){return["../purchaseorder"]};let N=(()=>{class t{constructor(t,e,n,a){this.dataservice=t,this.popup=e,this.renderer2=n,this.e=a,this.lstarray=[],this.settings={selectMode:"multi",actions:{columnTitle:"",add:!1,delete:!1,edit:!1},columns:{POID:{title:"PO ID",editable:!1},POInvoiceNo:{title:"Purchase Order",editable:!1},OrderDate:{title:"Order Date",editable:!1},BranchName:{title:"Location",editable:!1},SupplierName:{title:"Supplier Name",editable:!1},NetAmount:{title:"Net Amount",editable:!1},index:{title:"Details",type:"html",filter:!1,valuePrepareFunction:(t,e,n)=>'<a href="/pages/purchasemanagement/purchaseorder?Id='+this.lstarray[n.row.index].POID+'"><i class="fa fa-search"></i> View</a>'}},attr:{class:"table table-bordered"},hideSubHeader:!1},this.selectedRows=[],this.LoadGrid()}ngoninit(){this.dataservice.checkFormRights("PurchaseOrderList","Allow")}ngAfterViewInit(){}onUserRowSelect(t){this.selectedRows=[],this.selectedRows.push(t.selected)}LoadGrid(){this.dataservice.get("PurchaseOrder/GetListGridData/ENG").subscribe(t=>{this.isArrayHasValue(t[0].GridData)&&(this.lstarray=t[0].GridData)})}isArrayHasValue(t){return Boolean(Array.isArray(t)&&t.length)}ApproveDisapprove(t){let e;for(var n=0;n<this.selectedRows.length;n++)e=this.selectedRows[n].map(t=>t.POID);console.log(e),this.dataservice.post("PurchaseOrder/ApproveDisapprovePO/",[e,t]).subscribe(t=>{t&&("SUCCESS"==t?(e=[],this.popup.ShowPopup("Update"),this.LoadGrid()):alert("error"))},t=>alert("error"))}}return t.\u0275fac=function(e){return new(e||t)(u.Ob(l.a),u.Ob(s.a),u.Ob(u.G),u.Ob(u.l))},t.\u0275cmp=u.Ib({type:t,selectors:[["ngx-purchaseorderlist"]],decls:17,vars:4,consts:[["href","//stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css","rel","stylesheet"],[1,"col-md-12",2,"text-align","right"],["nbButton","","status","success",1,"btn","btn-responsive",3,"routerLink"],["nbButton","","status","success",1,"btn","btn-responsive",2,"width","150px",3,"click"],[1,"col-md-12"],[3,"settings","source","userRowSelect"]],template:function(t,e){1&t&&(u.Pb(0,"link",0),u.Ub(1,"nb-card"),u.Ub(2,"nb-card-header"),u.Lc(3," View Purchase Order List "),u.Ub(4,"div",1),u.Ub(5,"button",2),u.Lc(6,"Add New Purchase Order"),u.Tb(),u.Lc(7,"\xa0\xa0\xa0 "),u.Ub(8,"button",3),u.bc("click",(function(){return e.ApproveDisapprove("A")})),u.Lc(9,"Approve"),u.Tb(),u.Lc(10,"\xa0\xa0\xa0 "),u.Ub(11,"button",3),u.bc("click",(function(){return e.ApproveDisapprove("D")})),u.Lc(12,"Disapprove"),u.Tb(),u.Lc(13,"\xa0\xa0\xa0 "),u.Tb(),u.Tb(),u.Ub(14,"nb-card-body"),u.Ub(15,"div",4),u.Ub(16,"ng2-smart-table",5),u.bc("userRowSelect",(function(t){return e.onUserRowSelect(t)})),u.Tb(),u.Tb(),u.Tb(),u.Tb()),2&t&&(u.Cb(5),u.lc("routerLink",u.oc(3,v)),u.Cb(11),u.lc("settings",e.settings)("source",e.lstarray))},directives:[o.o,o.q,o.l,b.d,o.n,I.b],styles:[".nb-theme-default   [_nghost-%COMP%]   .position-select[_ngcontent-%COMP%]{min-width:13rem}.nb-theme-default   [_nghost-%COMP%]   .label[_ngcontent-%COMP%]{display:block}[dir=ltr]   .nb-theme-default   [_nghost-%COMP%]   nb-card-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:first-child{margin-right:1rem}[dir=rtl]   .nb-theme-default   [_nghost-%COMP%]   nb-card-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:first-child{margin-left:1rem}.nb-theme-dark   [_nghost-%COMP%]   .position-select[_ngcontent-%COMP%]{min-width:13rem}.nb-theme-dark   [_nghost-%COMP%]   .label[_ngcontent-%COMP%]{display:block}[dir=ltr]   .nb-theme-dark   [_nghost-%COMP%]   nb-card-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:first-child{margin-right:1rem}[dir=rtl]   .nb-theme-dark   [_nghost-%COMP%]   nb-card-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:first-child{margin-left:1rem}.nb-theme-cosmic   [_nghost-%COMP%]   .position-select[_ngcontent-%COMP%]{min-width:13rem}.nb-theme-cosmic   [_nghost-%COMP%]   .label[_ngcontent-%COMP%]{display:block}[dir=ltr]   .nb-theme-cosmic   [_nghost-%COMP%]   nb-card-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:first-child{margin-right:1rem}[dir=rtl]   .nb-theme-cosmic   [_nghost-%COMP%]   nb-card-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:first-child{margin-left:1rem}.nb-theme-corporate   [_nghost-%COMP%]   .position-select[_ngcontent-%COMP%]{min-width:13rem}.nb-theme-corporate   [_nghost-%COMP%]   .label[_ngcontent-%COMP%]{display:block}[dir=ltr]   .nb-theme-corporate   [_nghost-%COMP%]   nb-card-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:first-child{margin-right:1rem}[dir=rtl]   .nb-theme-corporate   [_nghost-%COMP%]   nb-card-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:first-child{margin-left:1rem}.ng2-smart-action-multiple-select[_ngcontent-%COMP%]{text-align:center}.ng2-smart-action-multiple-select[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]{width:25px;height:25px;display:unset}@media only screen and (max-width:712px){.btn[_ngcontent-%COMP%]{width:100%!important;margin-bottom:-12px!important}}"]}),t})();var S=n("tk/3");function j(t,e){if(1&t){const t=u.Vb();u.Ub(0,"p",23),u.bc("ngModelChange",(function(e){return u.yc(t),u.fc().lblSupplierName=e})),u.Lc(1),u.Tb()}if(2&t){const t=u.fc();u.lc("ngModel",t.lblSupplierName),u.Cb(1),u.Mc(t.lblSupplierName)}}function L(t,e){if(1&t&&(u.Ub(0,"nb-option",24),u.Lc(1),u.Tb()),2&t){const t=e.$implicit;u.lc("value",t.CountryID),u.Cb(1),u.Mc(t.CountryName)}}function A(t,e){if(1&t){const t=u.Vb();u.Ub(0,"button",25),u.bc("click",(function(){return u.yc(t),u.fc().Save()})),u.Lc(1,"Save"),u.Tb()}}function _(t,e){if(1&t){const t=u.Vb();u.Ub(0,"button",26),u.bc("click",(function(){return u.yc(t),u.fc().Save()})),u.Lc(1,"Update"),u.Tb()}}let w=(()=>{class t{constructor(t,e,n){this._userService=t,this._http=e,this.popup=n,this.objSupplier=new x,this.showButton=!1,this.showlblSupplierName=!1,this.lblSupplierName="",this.lstSuppliers=[],this.lstCountry=[],this.lstCity=[],this.settings={actions:{add:!1,columnTitle:""},mode:"external",edit:{editButtonContent:'<i class="nb-edit"></i>',confirmEdit:!0},delete:{deleteButtonContent:'<i class="nb-trash"></i>',confirmDelete:!0},columns:{SupplierName:{title:"Name"},Phone:{title:"Phone"},MobilePhone:{title:"Mobile"},Email:{title:"Email"},Address1:{title:"Address 1"}},attr:{class:"table table-bordered"},hideSubHeader:!1}}ngOnInit(){this._userService.checkFormRights("posSupplier","Allow"),this.GridBind(),this._userService.get("Supplier/GetCountryData").subscribe(t=>{this.lstCountry=t[0].Country,this.objSupplier.CountryID=this.lstCountry[0].CountryID})}GridBind(){this._userService.get("Supplier/GetSuppliers").subscribe(t=>{this.lstSuppliers=t.Table,this.objSupplier.SupplierID=t.Table1[0].Column1+1})}Save(){if(""==this.objSupplier.SupplierName||null==this.objSupplier.SupplierName)return this.showlblSupplierName=!0,void(this.lblSupplierName="Please enter Name!");this.showlblSupplierName=!1,this._userService.post("Supplier/SaveSupplier",this.objSupplier).subscribe(t=>{"Insert"==t?(this.popup.ShowPopup("Insert"),this.GridBind(),this.objSupplier=new x,this.objSupplier.CountryID=this.lstCountry[0].CountryID):"Update"==t?(this.popup.ShowPopup("Update"),this.showButton=!1,this.objSupplier.Mode="New",this.objSupplier=new x,this.GridBind(),this.objSupplier.CountryID=this.lstCountry[0].CountryID):"Duplicate"==t?(this.showlblSupplierName=!0,this.lblSupplierName="Name already exist!",window.scrollTo(0,0)):alert("404: Error")})}onDeleteConfirm(t){window.confirm("Are you sure you want to delete?")&&(this.objSupplier.SupplierID=t.data.SupplierID,this._userService.post("Supplier/DeleteSupplier",this.objSupplier).subscribe(t=>{"Delete"==t?(this.popup.ShowPopup("Delete"),this.GridBind(),this.showlblSupplierName=!1,this.showButton=!1,this.objSupplier=new x,this.objSupplier.CountryID=this.lstCountry[0].CountryID):alert("404: Error")}))}Cancel(){this.showButton=!1,this.objSupplier=new x,this.showlblSupplierName=!1,this.objSupplier.CountryID=this.lstCountry[0].CountryID}onedit(t){this.objSupplier.SupplierID=t.data.SupplierID,this.objSupplier.SupplierName=t.data.SupplierName,this.objSupplier.ContactPerson=t.data.ContactPerson,this.objSupplier.Phone=t.data.Phone,this.objSupplier.Email=t.data.Email,this.objSupplier.MobilePhone=t.data.MobilePhone,this.objSupplier.CountryID=t.data.CountryID,this.objSupplier.CityID=t.data.CityID,this.objSupplier.Address1=t.data.Address1,this.objSupplier.Address2=t.data.Address2,this.objSupplier.VatRegistrationNo=t.data.VatRegistrationNo,this.objSupplier.AccountNo=t.data.AccountNo,window.scrollTo(0,0),this.showButton=!0,this.showlblSupplierName=!1,this.objSupplier.Mode="Update"}numberOnly(t){const e=t.which?t.which:t.keyCode;return!(e>31&&(e<48||e>57))}}return t.\u0275fac=function(e){return new(e||t)(u.Ob(l.a),u.Ob(S.a),u.Ob(s.a))},t.\u0275cmp=u.Ib({type:t,selectors:[["ngx-supplier"]],decls:80,vars:17,consts:[[1,"row"],[1,"col-sm-6"],[1,"form-group"],[1,"label"],["type","text","maxlength","50","nbInput","","fullWidth","","placeholder","Name",3,"ngModel","ngModelChange"],["class","caption status-danger",3,"ngModel","ngModelChange",4,"ngIf"],["type","text","maxlength","50","nbInput","","fullWidth","","placeholder","Contact Person",3,"ngModel","ngModelChange"],["type","text","maxlength","50","nbInput","","fullWidth","","placeholder","Phone Number",3,"ngModel","keypress","ngModelChange"],["type","text","maxlength","50","nbInput","","fullWidth","","placeholder","Email",3,"ngModel","ngModelChange"],["type","text","maxlength","50","nbInput","","fullWidth","","placeholder","Mobile No.",3,"ngModel","keypress","ngModelChange"],["fullWidth","",3,"selected","selectedChange"],[3,"value",4,"ngFor","ngForOf"],[1,"col-md-6","col-sm-12"],["type","text","maxlength","50","nbInput","","fullWidth","","placeholder","City",3,"ngModel","ngModelChange"],["type","text","nbInput","","fullWidth","","placeholder","Address 1",3,"ngModel","ngModelChange"],["type","text","nbInput","","fullWidth","","placeholder","Address 2",3,"ngModel","ngModelChange"],["type","text","maxlength","50","nbInput","","fullWidth","","placeholder","VAT Reg #",3,"ngModel","ngModelChange"],["type","text","maxlength","50","nbInput","","fullWidth","","placeholder","Account",3,"ngModel","keypress","ngModelChange"],[2,"float","right"],["type","submit","status","success","nbButton","","style","width: 94px;",3,"click",4,"ngIf"],["type","submit","status","success","nbButton","",3,"click",4,"ngIf"],["type","submit","nbButton","",3,"click"],[3,"settings","source","delete","edit"],[1,"caption","status-danger",3,"ngModel","ngModelChange"],[3,"value"],["type","submit","status","success","nbButton","",2,"width","94px",3,"click"],["type","submit","status","success","nbButton","",3,"click"]],template:function(t,e){1&t&&(u.Ub(0,"nb-card"),u.Ub(1,"nb-card-header"),u.Lc(2,"Supplier Information"),u.Tb(),u.Ub(3,"nb-card-body"),u.Ub(4,"div",0),u.Ub(5,"div",1),u.Ub(6,"div",2),u.Ub(7,"label",3),u.Lc(8,"Name"),u.Tb(),u.Ub(9,"input",4),u.bc("ngModelChange",(function(t){return e.objSupplier.SupplierName=t})),u.Tb(),u.Jc(10,j,2,2,"p",5),u.Tb(),u.Tb(),u.Ub(11,"div",1),u.Ub(12,"div",2),u.Ub(13,"label",3),u.Lc(14,"Contact Person"),u.Tb(),u.Ub(15,"input",6),u.bc("ngModelChange",(function(t){return e.objSupplier.ContactPerson=t})),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Ub(16,"div",0),u.Ub(17,"div",1),u.Ub(18,"div",2),u.Ub(19,"label",3),u.Lc(20,"Phone Number"),u.Tb(),u.Ub(21,"input",7),u.bc("keypress",(function(t){return e.numberOnly(t)}))("ngModelChange",(function(t){return e.objSupplier.Phone=t})),u.Tb(),u.Tb(),u.Tb(),u.Ub(22,"div",1),u.Ub(23,"div",2),u.Ub(24,"label",3),u.Lc(25,"Email"),u.Tb(),u.Ub(26,"input",8),u.bc("ngModelChange",(function(t){return e.objSupplier.Email=t})),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Ub(27,"div",0),u.Ub(28,"div",1),u.Ub(29,"div",2),u.Ub(30,"label",3),u.Lc(31,"Mobile No."),u.Tb(),u.Ub(32,"input",9),u.bc("keypress",(function(t){return e.numberOnly(t)}))("ngModelChange",(function(t){return e.objSupplier.MobilePhone=t})),u.Tb(),u.Tb(),u.Tb(),u.Ub(33,"div",1),u.Ub(34,"div",2),u.Ub(35,"label",3),u.Lc(36,"Country"),u.Tb(),u.Ub(37,"nb-select",10),u.bc("selectedChange",(function(t){return e.objSupplier.CountryID=t})),u.Jc(38,L,2,2,"nb-option",11),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Ub(39,"div",0),u.Ub(40,"div",12),u.Ub(41,"div",2),u.Ub(42,"label",3),u.Lc(43,"City"),u.Tb(),u.Ub(44,"input",13),u.bc("ngModelChange",(function(t){return e.objSupplier.CityID=t})),u.Tb(),u.Tb(),u.Tb(),u.Ub(45,"div",1),u.Ub(46,"div",2),u.Ub(47,"label",3),u.Lc(48,"Address 1"),u.Tb(),u.Ub(49,"input",14),u.bc("ngModelChange",(function(t){return e.objSupplier.Address1=t})),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Ub(50,"div",0),u.Ub(51,"div",1),u.Ub(52,"div",2),u.Ub(53,"label",3),u.Lc(54,"Address 2"),u.Tb(),u.Ub(55,"input",15),u.bc("ngModelChange",(function(t){return e.objSupplier.Address2=t})),u.Tb(),u.Tb(),u.Tb(),u.Ub(56,"div",1),u.Ub(57,"div",2),u.Ub(58,"label",3),u.Lc(59,"VAT Reg #"),u.Tb(),u.Ub(60,"input",16),u.bc("ngModelChange",(function(t){return e.objSupplier.VatRegistrationNo=t})),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Ub(61,"div",0),u.Ub(62,"div",1),u.Ub(63,"div",2),u.Ub(64,"label",3),u.Lc(65,"Account"),u.Tb(),u.Ub(66,"input",17),u.bc("keypress",(function(t){return e.numberOnly(t)}))("ngModelChange",(function(t){return e.objSupplier.AccountNo=t})),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Ub(67,"nb-card-footer"),u.Ub(68,"div",18),u.Jc(69,A,2,0,"button",19),u.Lc(70,"\xa0\xa0 "),u.Jc(71,_,2,0,"button",20),u.Lc(72,"\xa0 "),u.Ub(73,"button",21),u.bc("click",(function(){return e.Cancel()})),u.Lc(74,"Cancel"),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Ub(75,"nb-card"),u.Ub(76,"nb-card-header"),u.Lc(77,"Supplier List"),u.Tb(),u.Ub(78,"nb-card-body"),u.Ub(79,"ng2-smart-table",22),u.bc("delete",(function(t){return e.onDeleteConfirm(t)}))("edit",(function(t){return e.onedit(t)})),u.Tb(),u.Tb(),u.Tb()),2&t&&(u.Cb(9),u.lc("ngModel",e.objSupplier.SupplierName),u.Cb(1),u.lc("ngIf",e.showlblSupplierName),u.Cb(5),u.lc("ngModel",e.objSupplier.ContactPerson),u.Cb(6),u.lc("ngModel",e.objSupplier.Phone),u.Cb(5),u.lc("ngModel",e.objSupplier.Email),u.Cb(6),u.lc("ngModel",e.objSupplier.MobilePhone),u.Cb(5),u.lc("selected",e.objSupplier.CountryID),u.Cb(1),u.lc("ngForOf",e.lstCountry),u.Cb(6),u.lc("ngModel",e.objSupplier.CityID),u.Cb(5),u.lc("ngModel",e.objSupplier.Address1),u.Cb(6),u.lc("ngModel",e.objSupplier.Address2),u.Cb(5),u.lc("ngModel",e.objSupplier.VatRegistrationNo),u.Cb(6),u.lc("ngModel",e.objSupplier.AccountNo),u.Cb(3),u.lc("ngIf",!e.showButton),u.Cb(2),u.lc("ngIf",e.showButton),u.Cb(8),u.lc("settings",e.settings)("source",e.lstSuppliers))},directives:[o.o,o.q,o.n,o.H,i.b,i.k,i.p,i.s,a.p,o.bb,a.o,o.p,o.l,I.b,o.U],styles:[""]}),t})();class x{constructor(){this.SupplierName="",this.ContactPerson="",this.Phone="",this.MobilePhone="",this.Email="",this.CityID="",this.Address1="",this.Address2="",this.AccountNo="",this.VatRegistrationNo="",this.Mode="New"}}function k(t,e){1&t&&(u.Ub(0,"p",49),u.Lc(1,"Please enter Transaction No"),u.Tb())}function B(t,e){1&t&&(u.Ub(0,"p",49),u.Lc(1,"Please select Order date"),u.Tb())}function G(t,e){1&t&&(u.Ub(0,"p",49),u.Lc(1,"Please select PO Number"),u.Tb())}function Q(t,e){if(1&t&&(u.Ub(0,"nb-option",50),u.Lc(1),u.Tb()),2&t){const t=e.$implicit;u.lc("value",t.BranchID),u.Cb(1),u.Mc(t.BranchName)}}function R(t,e){1&t&&(u.Ub(0,"p",49),u.Lc(1,"Please select Supplier"),u.Tb())}function V(t,e){1&t&&(u.Ub(0,"p",49),u.Lc(1,"Please select Item"),u.Tb())}function W(t,e){1&t&&(u.Ub(0,"p",49),u.Lc(1,"Item already exists"),u.Tb())}function J(t,e){1&t&&(u.Ub(0,"p",49),u.Lc(1,"Please enter Price"),u.Tb())}function E(t,e){1&t&&(u.Ub(0,"p",49),u.Lc(1,"Please enter Quantity"),u.Tb())}function F(t,e){if(1&t&&(u.Ub(0,"p",49),u.Lc(1),u.Tb()),2&t){const t=u.fc();u.Cb(1),u.Nc("Please enter Quantity less than or equal to ",t.Quantity,"")}}function H(t,e){if(1&t){const t=u.Vb();u.Ub(0,"tr"),u.Ub(1,"td"),u.Ub(2,"input",54),u.bc("click",(function(){u.yc(t);const n=e.index;return u.fc(2).deleteDetailData(n)})),u.Tb(),u.Tb(),u.Ub(3,"td"),u.Lc(4),u.Tb(),u.Ub(5,"td"),u.Lc(6),u.Tb(),u.Ub(7,"td"),u.Lc(8),u.Tb(),u.Ub(9,"td"),u.Lc(10),u.Tb(),u.Ub(11,"td"),u.Lc(12),u.Tb(),u.Ub(13,"td"),u.Lc(14),u.Tb(),u.Ub(15,"td"),u.Lc(16),u.Tb(),u.Tb()}if(2&t){const t=e.$implicit;u.Cb(4),u.Mc(t.ProductName),u.Cb(2),u.Mc(t.Price),u.Cb(2),u.Mc(t.Quantity),u.Cb(2),u.Mc(t.LineDiscount),u.Cb(2),u.Mc(t.TotalAmount),u.Cb(2),u.Mc(t.TaxAmount),u.Cb(2),u.Mc(t.NetAmount)}}function q(t,e){if(1&t&&(u.Ub(0,"div",51),u.Ub(1,"table",52),u.Ub(2,"tr"),u.Ub(3,"th"),u.Lc(4,"Action"),u.Tb(),u.Ub(5,"th"),u.Lc(6,"Product Name"),u.Tb(),u.Ub(7,"th"),u.Lc(8,"Price"),u.Tb(),u.Ub(9,"th"),u.Lc(10,"Quantity"),u.Tb(),u.Ub(11,"th"),u.Lc(12,"Discount"),u.Tb(),u.Ub(13,"th"),u.Lc(14,"Total Amount"),u.Tb(),u.Ub(15,"th"),u.Lc(16,"Tax Amount"),u.Tb(),u.Ub(17,"th"),u.Lc(18,"Net Amount"),u.Tb(),u.Tb(),u.Jc(19,H,17,7,"tr",53),u.Tb(),u.Tb()),2&t){const t=u.fc();u.Cb(19),u.lc("ngForOf",t.ArrDetailData)}}let z=(()=>{class t{constructor(t,e,n,a,i){this.route=t,this.dialog=e,this.toastrService=n,this.dataservice=a,this.popup=i,this.Culture="ENG",this.ObjMasterData=new $,this.ddlLocation=[],this.ObjDetailData=new K,this.ArrDetailData=[],this.btnSave="Save",this.tmpTransactionNo="",this.GridVisibility=!1,this.arrData=[],this.ItemMandatory=!1,this.PriceMandatory=!1,this.QtyMandatory=!1,this.ProductDuplicate=!1,this.QtyExceed=!1,this.SupplierName="",this.ItemBarcode="",this.TrxNoMandatory=!1,this.PONoMandatory=!1,this.OrderDate=!1,this.SupplierDate=!1}ngOnInit(){this.dataservice.checkFormRights("posGRN","Allow"),this.GetDropdownSetups(),this.GetNewTransactionNo()}GetNewTransactionNo(){this.dataservice.get("GRN/GenerateTransactionNo/").subscribe(t=>{t&&(this.tmpTransactionNo=t)},t=>alert("error"))}getGRNOrderData(t){this.ObjMasterData=new $,this.ArrDetailData=[],this.GridVisibility=!1,this.SupplierName="",this.TotalQuantity=void 0,this.SubTotal=void 0,this.dataservice.get("GRN/GetGRNMasterDetailData/"+t).subscribe(t=>{if(this.isArrayHasValue(t[0].MasterData)){let e=t[0].MasterData;this.ObjMasterData.POInvoiceNo=e[0].POInvoiceNo,this.ObjMasterData.PurchaseDate=e[0].PurchaseDate,this.ObjMasterData.BranchID=e[0].BranchID,this.ObjMasterData.SupplierID=e[0].SupplierID,this.SupplierName=e[0].SupplierName,this.ObjMasterData.Description=e[0].Description,this.ObjMasterData.InvoiceDiscount=e[0].InvoiceDiscount,this.ObjMasterData.TotalLineDiscount=e[0].TotalLineDiscount,this.ObjMasterData.NetAmount=e[0].NetAmount}else this.ObjMasterData.BranchID=this.ddlLocation[0].BranchID;this.isArrayHasValue(t[0].DetailData)&&(this.GridVisibility=!0,this.ArrDetailData=t[0].DetailData,this.TotalQuantity=this.getSum(this.ArrDetailData,"Quantity"),this.SubTotal=this.getSum(this.ArrDetailData,"TotalAmount"))},t=>alert("error"))}onRoleDelete(t){console.log("Delete Event In Console"),window.confirm("Are you sure you want to delete?")}DetailSavingClick(){this.ItemMandatory=!1,this.PriceMandatory=!1,this.QtyMandatory=!1,this.ProductDuplicate=!1,this.QtyExceed=!1;let t=!1;null!=this.ObjDetailData.ProductID&&""!=this.ObjDetailData.ProductID||(this.ItemMandatory=!0,t=!0),null!=this.ObjDetailData.Price&&""!=this.ObjDetailData.Price||(this.PriceMandatory=!0,t=!0),null!=this.ObjDetailData.Quantity&&""!=this.ObjDetailData.Quantity||(this.QtyMandatory=!0,t=!0),1==this.IsDuplicateExists(this.ObjDetailData.ProductID,this.ArrDetailData,"ProductID")&&(this.ProductDuplicate=!0,t=!0),parseInt(this.ObjDetailData.Quantity)>parseInt(this.Quantity)&&(this.QtyExceed=!0,t=!0),t||(this.GridVisibility=!0,this.ArrDetailData.push(this.ObjDetailData),console.log(this.ArrDetailData),this.ObjDetailData=new K,this.ItemBarcode="",this.ObjDetailData.NetAmount=null,this.TotalQuantity=this.getSum(this.ArrDetailData,"Quantity"),this.SubTotal=this.getSum(this.ArrDetailData,"NetAmount"),null==this.ObjMasterData.InvoiceDiscount||""==this.ObjMasterData.InvoiceDiscount||isNaN(this.ObjMasterData.InvoiceDiscount)?this.ObjMasterData.NetAmount=this.getSum(this.ArrDetailData,"NetAmount"):(this.ObjMasterData.NetAmount=this.getSum(this.ArrDetailData,"NetAmount")-this.ObjMasterData.InvoiceDiscount,this.ObjMasterData.TotalLineDiscount=this.ObjMasterData.NetAmount))}deleteDetailData(t){window.confirm("Are you sure you want to delete?")&&(this.ArrDetailData.splice(t,1),0===this.ArrDetailData.length&&(this.GridVisibility=!1))}getSum(t,e){return t.reduce((t,n)=>t+n[e],0)}IsDuplicateExists(t,e,n){var a;for(a=0;a<e.length;a++)if(e[a][n]==t)return!0;return!1}GetDropdownSetups(){this.dataservice.get("GRN/GetSetupData/"+this.Culture).subscribe(t=>{this.isArrayHasValue(t[0].Location)&&(this.ddlLocation=t[0].Location,this.ObjMasterData.BranchID=this.ddlLocation[0].BranchID)},t=>alert("error"))}openDialogSupplierLookUp(){this.dialog.open(c.a,{width:"700px",data:{columnName:{Id:"",SupplierID:"Supplier ID",SupplierName:"Supplier Name"},whereClause:{Id:"1"},url:"GRN/lookupSupplier",urlSearch:"GRN/lookupSupplierSearch",hideColumns:"Id",headingName:"Supplier"}}).afterClosed().subscribe(t=>{null!=t&&(this.ObjMasterData.SupplierID=t.SupplierID,this.SupplierName=t.SupplierName)})}openDialogPONumberLookUp(){this.dialog.open(c.a,{width:"700px",data:{columnName:{Id:"",POInvoiceNo:"PO Invoice No",OrderDate:"Order Date"},whereClause:{Id:"1"},url:"GRN/lookupPONumber",urlSearch:"GRN/lookupPONumberSearch",hideColumns:"Id",headingName:"Purchase Order"}}).afterClosed().subscribe(t=>{null!=t&&(this.getGRNOrderData(t.POInvoiceNo),this.ObjMasterData.POInvoiceNo=t.POInvoiceNo)})}openDialogItemBarcodeLookUp(){this.dialog.open(c.a,{width:"700px",data:{columnName:{Id:"",ProductID:"Product ID",ProductName:"Product Name",Barcode:"Item Barcode",Quantity:"Quantity"},whereClause:{Id:"1"},url:"GRN/lookupItemBarcode",urlSearch:"GRN/lookupItemBarcodeSearch",hideColumns:"Id",headingName:"Product"}}).afterClosed().subscribe(t=>{null!=t&&(console.log(t),this.ObjDetailData.ProductID=t.ProductID,this.ItemBarcode=t.Barcode,this.ObjDetailData.ProductName=t.ProductName,this.Quantity=t.Quantity,this.ItemMandatory=!1)})}isArrayHasValue(t){return Boolean(Array.isArray(t)&&t.length)}SaveData(){this.PONoMandatory=!1,this.OrderDate=!1,this.SupplierDate=!1;let t=!1;if(null!=this.ObjMasterData.POInvoiceNo&&""!=this.ObjMasterData.POInvoiceNo||(this.PONoMandatory=!0,t=!0),null!=this.ObjMasterData.PurchaseDate&&""!=this.ObjMasterData.PurchaseDate||(this.OrderDate=!0,t=!0),null!=this.ObjMasterData.SupplierID&&""!=this.ObjMasterData.SupplierID||(this.SupplierDate=!0,t=!0),t)return;this.ObjMasterData.PurchaseInvoice=this.tmpTransactionNo;let e=[];this.dataservice.post("GRN/SaveRecord/",[this.ObjMasterData.PurchaseID,this.ObjMasterData,this.ArrDetailData]).subscribe(t=>{t&&(e=t.split("|"),"Insert"==t?(this.ObjMasterData=new $,this.ObjDetailData=new K,this.TotalQuantity=void 0,this.SubTotal=void 0,this.arrData=[],this.popup.ShowPopup("Insert"),this.GridVisibility=!1,this.SupplierName="",this.GetNewTransactionNo()):"Update"==t?this.popup.ShowPopup("Update"):alert("error"))},t=>alert("error"))}PriceChange(){let t;this.PriceMandatory=!1,this.QtyMandatory=!1;let e=parseInt(this.ObjDetailData.Price)*parseInt(this.ObjDetailData.Quantity);isNaN(e)||(this.ObjDetailData.NetAmount=e,this.ObjDetailData.TotalAmount=e,isNaN(this.ObjDetailData.LineDiscount)||""==this.ObjDetailData.LineDiscount||null==this.ObjDetailData.LineDiscount||(t=e-parseFloat(this.ObjDetailData.LineDiscount),e=t,this.ObjDetailData.NetAmount=e,this.ObjDetailData.TotalAmount=e))}InvDiscountChange(){let t=parseInt(this.SubTotal)-parseInt(this.ObjMasterData.InvoiceDiscount);isNaN(t)||(this.ObjMasterData.TotalLineDiscount=t,this.ObjMasterData.NetAmount=t)}TaxAmountChange(){let t=parseInt(this.ObjDetailData.TotalAmount)+parseInt(this.ObjDetailData.TaxAmount);isNaN(t)||(this.ObjDetailData.NetAmount=t)}}return t.\u0275fac=function(e){return new(e||t)(u.Ob(b.a),u.Ob(d.b),u.Ob(o.sb),u.Ob(l.a),u.Ob(s.a))},t.\u0275cmp=u.Ib({type:t,selectors:[["ngx-grn"]],decls:139,vars:33,consts:[[1,"row"],[1,"col-md-6","col-sm-12"],[1,"form-group"],["for","bTransaction",1,"label"],["nbInput","","fullWidth","","name","bTransaction","placeholder","Transaction No","readonly","",3,"ngModel","ngModelChange"],["class","caption status-danger",4,"ngIf"],["for","bod",1,"label"],["nbInput","","placeholder","Order Date","name","bod","autocomplete","off",2,"width","100%",3,"ngModel","nbDatepicker","ngModelChange"],["formpicker",""],["name","bActive",2,"display","none",3,"ngModel","ngModelChange"],["for","bPOInvoiceNo",1,"label"],["nbInput","","fullWidth","","name","bPOInvoiceNo","placeholder","PO Number","readonly","",2,"width","89%",3,"ngModel","ngModelChange"],[1,"fa","fa-search",3,"click"],["for","bLocation",1,"label"],["fullWidth","","name","bLocation",3,"selected","selectedChange"],[3,"value",4,"ngFor","ngForOf"],["for","bSupplier",1,"label"],["nbInput","","fullWidth","","name","bSupplier","placeholder","Supplier Name","readonly","",2,"width","89%",3,"ngModel","ngModelChange"],["for","bBarcode",1,"label"],["nbInput","","fullWidth","","name","bBarcode","placeholder","Item Barcode",2,"width","89%",3,"ngModel","ngModelChange"],["for","bIN",1,"label"],["nbInput","","fullWidth","","name","bIN","placeholder","Item Name","readonly","",2,"cursor","not-allowed",3,"ngModel","ngModelChange"],[1,"table-responsive-md"],["width","100%",1,"table","table-condensed","table-striped","table-bordered","table-hover"],[2,"color","white","background-color","#53555B","height","30px"],["nbInput","","fullWidth","","name","bCP","type","number","maxlength","8",3,"ngModel","input","ngModelChange"],["nbInput","","fullWidth","","name","bqty","type","number","maxlength","5",3,"ngModel","input","ngModelChange"],["nbInput","","fullWidth","","name","bDiscount","type","number","maxlength","5",3,"ngModel","input","ngModelChange"],["nbInput","","fullWidth","","name","bTotal","type","number","maxlength","10",3,"ngModel","ngModelChange"],["nbInput","","fullWidth","","name","btxA","type","number","maxlength","10",3,"ngModel","input","ngModelChange"],["nbInput","","fullWidth","","name","bNamt","type","number","readonly","",2,"cursor","not-allowed",3,"ngModel","ngModelChange"],["nbButton","","status","success",3,"click"],["class","table-responsive",4,"ngIf"],[1,"col-lg-8"],[1,"tab-content"],["id","delivery-method",1,"tab-block"],["action","#",1,"shipping-form"],[1,"form-group","col-md-8"],[1,"text-uppercase",2,"font-size","14px","font-weight","700"],["nbInput","","fullWidth","","name","bsummary",2,"height","100%","width","100%",3,"ngModel","ngModelChange"],[1,"col-lg-4"],[1,"block-body","order-summary"],[1,"order-menu","list-unstyled"],[1,"d-flex","justify-content-between"],["type","text","readonly","",2,"width","130px","text-align","right",3,"value"],[1,"d-flex","justify-content-between",2,"padding-top","5px"],["type","number","maxlength","6",2,"width","130px","text-align","right",3,"ngModel","input","ngModelChange"],["type","text","readonly","",1,"text-primary","price-total",2,"width","130px","text-align","right",3,"value"],[2,"text-align","right"],[1,"caption","status-danger"],[3,"value"],[1,"table-responsive"],[1,"table","table-condensed","table-striped","table-bordered","table-hover"],[4,"ngFor","ngForOf"],["type","image","width","30","height","20","src","../../../../assets/images/delete.png",3,"click"]],template:function(t,e){if(1&t&&(u.Ub(0,"nb-card"),u.Ub(1,"nb-card-header"),u.Lc(2," Good Receiving Note "),u.Tb(),u.Ub(3,"nb-card-body"),u.Ub(4,"div",0),u.Ub(5,"div",1),u.Ub(6,"div",2),u.Ub(7,"label",3),u.Lc(8,"Transaction No"),u.Tb(),u.Ub(9,"input",4),u.bc("ngModelChange",(function(t){return e.tmpTransactionNo=t})),u.Tb(),u.Jc(10,k,2,0,"p",5),u.Tb(),u.Tb(),u.Ub(11,"div",1),u.Ub(12,"div",2),u.Ub(13,"label",6),u.Lc(14,"Purchase Date"),u.Tb(),u.Ub(15,"input",7),u.bc("ngModelChange",(function(t){return e.ObjMasterData.PurchaseDate=t})),u.Tb(),u.Pb(16,"nb-datepicker",null,8),u.Jc(18,B,2,0,"p",5),u.Lc(19,"\xa0\xa0\xa0 "),u.Ub(20,"nb-checkbox",9),u.bc("ngModelChange",(function(t){return e.ObjMasterData.Posted=t})),u.Lc(21,"Posted"),u.Tb(),u.Tb(),u.Tb(),u.Ub(22,"div",1),u.Ub(23,"div",2),u.Ub(24,"label",10),u.Lc(25,"PO Number"),u.Tb(),u.Ub(26,"input",11),u.bc("ngModelChange",(function(t){return e.ObjMasterData.POInvoiceNo=t})),u.Tb(),u.Lc(27," \xa0\xa0 "),u.Ub(28,"i",12),u.bc("click",(function(){return e.openDialogPONumberLookUp()})),u.Tb(),u.Jc(29,G,2,0,"p",5),u.Tb(),u.Tb(),u.Ub(30,"div",1),u.Ub(31,"div",2),u.Ub(32,"label",13),u.Lc(33,"Location"),u.Tb(),u.Ub(34,"nb-select",14),u.bc("selectedChange",(function(t){return e.ObjMasterData.BranchID=t})),u.Jc(35,Q,2,2,"nb-option",15),u.Tb(),u.Tb(),u.Tb(),u.Ub(36,"div",1),u.Ub(37,"div",2),u.Ub(38,"label",16),u.Lc(39,"Supplier Name"),u.Tb(),u.Ub(40,"input",17),u.bc("ngModelChange",(function(t){return e.SupplierName=t})),u.Tb(),u.Lc(41," \xa0\xa0 "),u.Ub(42,"i",12),u.bc("click",(function(){return e.openDialogSupplierLookUp()})),u.Tb(),u.Jc(43,R,2,0,"p",5),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Ub(44,"nb-card-body"),u.Pb(45,"hr"),u.Ub(46,"div",0),u.Ub(47,"div",1),u.Ub(48,"div",2),u.Ub(49,"label",18),u.Lc(50,"Item Barcode"),u.Tb(),u.Ub(51,"input",19),u.bc("ngModelChange",(function(t){return e.ItemBarcode=t})),u.Tb(),u.Lc(52,"\xa0\xa0 "),u.Ub(53,"i",12),u.bc("click",(function(){return e.openDialogItemBarcodeLookUp()})),u.Tb(),u.Jc(54,V,2,0,"p",5),u.Jc(55,W,2,0,"p",5),u.Tb(),u.Tb(),u.Ub(56,"div",1),u.Ub(57,"div",2),u.Ub(58,"label",20),u.Lc(59,"Item Name"),u.Tb(),u.Ub(60,"input",21),u.bc("ngModelChange",(function(t){return e.ObjDetailData.ProductName=t})),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Ub(61,"div",0),u.Ub(62,"div",22),u.Ub(63,"table",23),u.Ub(64,"tr",24),u.Ub(65,"td"),u.Lc(66,"Cost Price"),u.Tb(),u.Ub(67,"td"),u.Lc(68,"Quantity"),u.Tb(),u.Ub(69,"td"),u.Lc(70,"Discount"),u.Tb(),u.Ub(71,"td"),u.Lc(72,"Total Amount"),u.Tb(),u.Ub(73,"td"),u.Lc(74,"Tax Amount"),u.Tb(),u.Ub(75,"td"),u.Lc(76,"Net Amount"),u.Tb(),u.Pb(77,"td"),u.Tb(),u.Ub(78,"tr"),u.Ub(79,"td"),u.Ub(80,"input",25),u.bc("input",(function(){return e.PriceChange()}))("ngModelChange",(function(t){return e.ObjDetailData.Price=t})),u.Tb(),u.Jc(81,J,2,0,"p",5),u.Tb(),u.Ub(82,"td"),u.Ub(83,"input",26),u.bc("input",(function(){return e.PriceChange()}))("ngModelChange",(function(t){return e.ObjDetailData.Quantity=t})),u.Tb(),u.Jc(84,E,2,0,"p",5),u.Jc(85,F,2,1,"p",5),u.Tb(),u.Ub(86,"td"),u.Ub(87,"input",27),u.bc("input",(function(){return e.PriceChange()}))("ngModelChange",(function(t){return e.ObjDetailData.LineDiscount=t})),u.Tb(),u.Tb(),u.Ub(88,"td"),u.Ub(89,"input",28),u.bc("ngModelChange",(function(t){return e.ObjDetailData.TotalAmount=t})),u.Tb(),u.Tb(),u.Ub(90,"td"),u.Ub(91,"input",29),u.bc("input",(function(){return e.TaxAmountChange()}))("ngModelChange",(function(t){return e.ObjDetailData.TaxAmount=t})),u.Tb(),u.Tb(),u.Ub(92,"td"),u.Ub(93,"input",30),u.bc("ngModelChange",(function(t){return e.ObjDetailData.NetAmount=t})),u.Tb(),u.Tb(),u.Ub(94,"td"),u.Ub(95,"button",31),u.bc("click",(function(){return e.DetailSavingClick()})),u.Lc(96,"Add"),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Jc(97,q,20,1,"div",32),u.Tb(),u.Tb(),u.Ub(98,"nb-card-body"),u.Ub(99,"div",0),u.Ub(100,"div",33),u.Ub(101,"div",34),u.Ub(102,"div",35),u.Ub(103,"form",36),u.Ub(104,"div",0),u.Ub(105,"div",37),u.Ub(106,"label",38),u.Lc(107,"Description"),u.Tb(),u.Ub(108,"textarea",39),u.bc("ngModelChange",(function(t){return e.ObjMasterData.Description=t})),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Ub(109,"div",40),u.Pb(110,"br"),u.Ub(111,"div",41),u.Ub(112,"label",38),u.Lc(113,"GRN Summary"),u.Tb(),u.Ub(114,"ul",42),u.Ub(115,"li",43),u.Ub(116,"span"),u.Lc(117,"Total Quantity "),u.Tb(),u.Pb(118,"input",44),u.Tb(),u.Ub(119,"li",45),u.Ub(120,"span"),u.Lc(121,"Sub Total"),u.Tb(),u.Pb(122,"input",44),u.Tb(),u.Ub(123,"li",45),u.Ub(124,"span"),u.Lc(125,"Invoice Discount"),u.Tb(),u.Ub(126,"input",46),u.bc("input",(function(){return e.InvDiscountChange()}))("ngModelChange",(function(t){return e.ObjMasterData.InvoiceDiscount=t})),u.Tb(),u.Tb(),u.Ub(127,"li",45),u.Ub(128,"span"),u.Lc(129,"After inv Discount"),u.Tb(),u.Pb(130,"input",44),u.Tb(),u.Ub(131,"li",45),u.Ub(132,"span"),u.Lc(133,"Net Amount"),u.Tb(),u.Pb(134,"input",47),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Pb(135,"hr"),u.Ub(136,"div",48),u.Ub(137,"button",31),u.bc("click",(function(){return e.SaveData()})),u.Lc(138),u.Tb(),u.Tb(),u.Tb(),u.Tb()),2&t){const t=u.uc(17);u.Cb(9),u.lc("ngModel",e.tmpTransactionNo),u.Cb(1),u.lc("ngIf",e.TrxNoMandatory),u.Cb(5),u.lc("ngModel",e.ObjMasterData.PurchaseDate)("nbDatepicker",t),u.Cb(3),u.lc("ngIf",e.OrderDate),u.Cb(2),u.lc("ngModel",e.ObjMasterData.Posted),u.Cb(6),u.lc("ngModel",e.ObjMasterData.POInvoiceNo),u.Cb(3),u.lc("ngIf",e.PONoMandatory),u.Cb(5),u.lc("selected",e.ObjMasterData.BranchID),u.Cb(1),u.lc("ngForOf",e.ddlLocation),u.Cb(5),u.lc("ngModel",e.SupplierName),u.Cb(3),u.lc("ngIf",e.SupplierDate),u.Cb(8),u.lc("ngModel",e.ItemBarcode),u.Cb(3),u.lc("ngIf",e.ItemMandatory),u.Cb(1),u.lc("ngIf",e.ProductDuplicate),u.Cb(5),u.lc("ngModel",e.ObjDetailData.ProductName),u.Cb(20),u.lc("ngModel",e.ObjDetailData.Price),u.Cb(1),u.lc("ngIf",e.PriceMandatory),u.Cb(2),u.lc("ngModel",e.ObjDetailData.Quantity),u.Cb(1),u.lc("ngIf",e.QtyMandatory),u.Cb(1),u.lc("ngIf",e.QtyExceed),u.Cb(2),u.lc("ngModel",e.ObjDetailData.LineDiscount),u.Cb(2),u.lc("ngModel",e.ObjDetailData.TotalAmount),u.Cb(2),u.lc("ngModel",e.ObjDetailData.TaxAmount),u.Cb(2),u.lc("ngModel",e.ObjDetailData.NetAmount),u.Cb(4),u.lc("ngIf",e.GridVisibility),u.Cb(11),u.lc("ngModel",e.ObjMasterData.Description),u.Cb(10),u.mc("value",e.TotalQuantity),u.Cb(4),u.mc("value",e.SubTotal),u.Cb(4),u.lc("ngModel",e.ObjMasterData.InvoiceDiscount),u.Cb(4),u.mc("value",e.ObjMasterData.TotalLineDiscount),u.Cb(4),u.mc("value",e.ObjMasterData.NetAmount),u.Cb(4),u.Mc(e.btnSave)}},directives:[o.o,o.q,o.n,o.H,i.b,i.p,i.s,a.p,o.z,o.y,o.t,o.bb,a.o,i.u,i.k,o.l,i.C,i.q,i.r,o.U],styles:[".nb-theme-default   [_nghost-%COMP%]   .position-select[_ngcontent-%COMP%]{min-width:13rem}.nb-theme-default   [_nghost-%COMP%]   .label[_ngcontent-%COMP%]{display:block}.nb-theme-default   [_nghost-%COMP%]   .input-group.input-group-unstyled[_ngcontent-%COMP%]   input.form-control[_ngcontent-%COMP%]{border-radius:4px}.nb-theme-default   [_nghost-%COMP%]   .input-group-unstyled[_ngcontent-%COMP%]   .input-group-addon[_ngcontent-%COMP%]{border-radius:4px;border:0;background-color:transparent}[dir=ltr]   .nb-theme-default   [_nghost-%COMP%]   nb-card-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:first-child{margin-right:1rem}[dir=rtl]   .nb-theme-default   [_nghost-%COMP%]   nb-card-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:first-child{margin-left:1rem}.nb-theme-dark   [_nghost-%COMP%]   .position-select[_ngcontent-%COMP%]{min-width:13rem}.nb-theme-dark   [_nghost-%COMP%]   .label[_ngcontent-%COMP%]{display:block}.nb-theme-dark   [_nghost-%COMP%]   .input-group.input-group-unstyled[_ngcontent-%COMP%]   input.form-control[_ngcontent-%COMP%]{border-radius:4px}.nb-theme-dark   [_nghost-%COMP%]   .input-group-unstyled[_ngcontent-%COMP%]   .input-group-addon[_ngcontent-%COMP%]{border-radius:4px;border:0;background-color:transparent}[dir=ltr]   .nb-theme-dark   [_nghost-%COMP%]   nb-card-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:first-child{margin-right:1rem}[dir=rtl]   .nb-theme-dark   [_nghost-%COMP%]   nb-card-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:first-child{margin-left:1rem}.nb-theme-cosmic   [_nghost-%COMP%]   .position-select[_ngcontent-%COMP%]{min-width:13rem}.nb-theme-cosmic   [_nghost-%COMP%]   .label[_ngcontent-%COMP%]{display:block}.nb-theme-cosmic   [_nghost-%COMP%]   .input-group.input-group-unstyled[_ngcontent-%COMP%]   input.form-control[_ngcontent-%COMP%]{border-radius:4px}.nb-theme-cosmic   [_nghost-%COMP%]   .input-group-unstyled[_ngcontent-%COMP%]   .input-group-addon[_ngcontent-%COMP%]{border-radius:4px;border:0;background-color:transparent}[dir=ltr]   .nb-theme-cosmic   [_nghost-%COMP%]   nb-card-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:first-child{margin-right:1rem}[dir=rtl]   .nb-theme-cosmic   [_nghost-%COMP%]   nb-card-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:first-child{margin-left:1rem}.nb-theme-corporate   [_nghost-%COMP%]   .position-select[_ngcontent-%COMP%]{min-width:13rem}.nb-theme-corporate   [_nghost-%COMP%]   .label[_ngcontent-%COMP%]{display:block}.nb-theme-corporate   [_nghost-%COMP%]   .input-group.input-group-unstyled[_ngcontent-%COMP%]   input.form-control[_ngcontent-%COMP%]{border-radius:4px}.nb-theme-corporate   [_nghost-%COMP%]   .input-group-unstyled[_ngcontent-%COMP%]   .input-group-addon[_ngcontent-%COMP%]{border-radius:4px;border:0;background-color:transparent}[dir=ltr]   .nb-theme-corporate   [_nghost-%COMP%]   nb-card-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:first-child{margin-right:1rem}[dir=rtl]   .nb-theme-corporate   [_nghost-%COMP%]   nb-card-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:first-child{margin-left:1rem}@media only screen and (max-width:700px){input[type=number][_ngcontent-%COMP%]{width:100px!important}}"]}),t})();class ${constructor(){this.PurchaseID=0,this.SupplierID="",this.PurchaseInvoice="",this.SupplierInvoice="",this.POInvoiceNo="",this.Posted=!1,this.Notes=""}}class K{}const X=[{path:"",component:(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=u.Ib({type:t,selectors:[["ngx-purchasemanagement"]],decls:1,vars:0,template:function(t,e){1&t&&u.Pb(0,"router-outlet")},directives:[b.h],encapsulation:2}),t})(),children:[{path:"purchaseorder",component:f},{path:"purchaseorderlist",component:N},{path:"grn",component:z},{path:"supplier",component:w}]}];let Y=(()=>{class t{}return t.\u0275mod=u.Mb({type:t}),t.\u0275inj=u.Lb({factory:function(e){return new(e||t)},imports:[[b.g.forChild(X)],b.g]}),t})();var Z=n("M9IT");n("yqoM");const tt=[a.c,i.j,r.a,Y,o.B.forChild(),o.Bb.forChild(),o.r,o.u,o.ob,o.V,o.m,o.I,o.cb,o.wb,I.c,d.c,Z.a,o.A.forRoot()],et=[];let nt=(()=>{class t{}return t.\u0275mod=u.Mb({type:t}),t.\u0275inj=u.Lb({factory:function(e){return new(e||t)},providers:[...et],imports:[[...tt]]}),t})()}}]);
!function(){function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function n(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{"t/nf":function(e,a,i){"use strict";i.r(a),i.d(a,"PurchaseManagementModule",(function(){return st}));var o=i("ofXK"),r=i("3Pt+"),l=i("aceb"),b=i("vTDv"),c=i("tyNb"),u=i("wwHW"),s=i("egYu"),d=i("Kbzz"),p=i("fXoL"),h=i("0IaG");function g(t,e){1&t&&(p.Ub(0,"p",49),p.Lc(1,"Please enter PO Number"),p.Tb())}function m(t,e){1&t&&(p.Ub(0,"p",49),p.Lc(1,"Please select Order date"),p.Tb())}function D(t,e){if(1&t&&(p.Ub(0,"nb-option",50),p.Lc(1),p.Tb()),2&t){var n=e.$implicit;p.lc("value",n.BranchID),p.Cb(1),p.Mc(n.BranchName)}}function M(t,e){1&t&&(p.Ub(0,"p",49),p.Lc(1,"Please select Supplier"),p.Tb())}function f(t,e){1&t&&(p.Ub(0,"p",49),p.Lc(1,"Please select Item"),p.Tb())}function O(t,e){1&t&&(p.Ub(0,"p",49),p.Lc(1,"Item already exists"),p.Tb())}function C(t,e){1&t&&(p.Ub(0,"p",49),p.Lc(1,"Please enter Price"),p.Tb())}function P(t,e){1&t&&(p.Ub(0,"p",49),p.Lc(1,"Please enter Quantity"),p.Tb())}function T(t,e){if(1&t){var n=p.Vb();p.Ub(0,"tr"),p.Ub(1,"td"),p.Ub(2,"input",53),p.bc("click",(function(){p.yc(n);var t=e.index;return p.fc(2).deleteDetailData(t)})),p.Tb(),p.Tb(),p.Ub(3,"td"),p.Lc(4),p.Tb(),p.Ub(5,"td"),p.Lc(6),p.Tb(),p.Ub(7,"td"),p.Lc(8),p.Tb(),p.Ub(9,"td"),p.Lc(10),p.Tb(),p.Ub(11,"td"),p.Lc(12),p.Tb(),p.Ub(13,"td"),p.Lc(14),p.Tb(),p.Ub(15,"td"),p.Lc(16),p.Tb(),p.Tb()}if(2&t){var a=e.$implicit;p.Cb(4),p.Mc(a.ProductName),p.Cb(2),p.Mc(a.Price),p.Cb(2),p.Mc(a.Quantity),p.Cb(2),p.Mc(a.LineDiscount),p.Cb(2),p.Mc(a.TotalAmount),p.Cb(2),p.Mc(a.TaxAmount),p.Cb(2),p.Mc(a.NetAmount)}}function y(t,e){if(1&t&&(p.Ub(0,"div",22),p.Ub(1,"table",51),p.Ub(2,"tr"),p.Ub(3,"th"),p.Lc(4,"Action"),p.Tb(),p.Ub(5,"th"),p.Lc(6,"Product Name"),p.Tb(),p.Ub(7,"th"),p.Lc(8,"Price"),p.Tb(),p.Ub(9,"th"),p.Lc(10,"Quantity"),p.Tb(),p.Ub(11,"th"),p.Lc(12,"Discount"),p.Tb(),p.Ub(13,"th"),p.Lc(14,"Total Amount"),p.Tb(),p.Ub(15,"th"),p.Lc(16,"Tax Amount"),p.Tb(),p.Ub(17,"th"),p.Lc(18,"Net Amount"),p.Tb(),p.Tb(),p.Jc(19,T,17,7,"tr",52),p.Tb(),p.Tb()),2&t){var n=p.fc();p.Cb(19),p.lc("ngForOf",n.ArrDetailData)}}var v,U,I=((v=function(){function e(n,a,i,o,r){t(this,e),this.route=n,this.dialog=a,this.toastrService=i,this.dataservice=o,this.popup=r,this.Culture="ENG",this.ObjMasterData=new N,this.ddlLocation=[],this.ObjDetailData=new S,this.ArrDetailData=[],this.btnSave="Save",this.settings={hideSubHeader:!0,mode:"external",delete:{confirmDelete:!0,deleteButtonContent:'<i class="nb-trash"></i>'},edit:{confirmSave:!0,editButtonContent:'<i class="nb-edit"></i>',saveButtonContent:'<i class="nb-checkmark"></i>',cancelButtonContent:'<i class="nb-close"></i>'},columns:{ProductName:{title:"Product Name",type:"string"},Price:{title:"Price",type:"int"},Quantity:{title:"Quantity",type:"int"},LineDiscount:{title:"Discount",type:"int"},TotalAmount:{title:"Total Amount",type:"int"},TaxAmount:{title:"Tax Amount",type:"int"},NetAmount:{title:"Net Amount",type:"int"}}},this.GridVisibility=!1,this.arrData=[],this.ItemMandatory=!1,this.PriceMandatory=!1,this.QtyMandatory=!1,this.ProductDuplicate=!1,this.SupplierName="",this.ItemBarcode="",this.PONoMandatory=!1,this.OrderDate=!1,this.SupplierDate=!1}return n(e,[{key:"ngOnInit",value:function(){var t=this;this.dataservice.checkFormRights("posPurchaseOrder","Allow"),this.GetDropdownSetups(),this.route.queryParams.subscribe((function(e){t.ObjMasterData.POID=e.Id,null!=t.ObjMasterData.POID&&0!=t.ObjMasterData.POID?(t.getPurchaseOrderData(t.ObjMasterData.POID),t.btnSave="Update"):(t.ObjMasterData.POID=0,t.GetNewPONumber())}))}},{key:"GetNewPONumber",value:function(){var t=this;this.dataservice.get("PurchaseOrder/GeneratePONumber/").subscribe((function(e){e&&(t.ObjMasterData.POInvoiceNo=e)}),(function(t){return alert("error")}))}},{key:"getPurchaseOrderData",value:function(t){var e=this;this.ObjMasterData=new N,this.ArrDetailData=[],this.GridVisibility=!1,this.TotalQuantity=void 0,this.SubTotal=void 0,this.dataservice.get("PurchaseOrder/GetPurchaseOrderMasterDetailData/"+t).subscribe((function(t){if(e.isArrayHasValue(t[0].MasterData)){var n=t[0].MasterData;e.ObjMasterData.POInvoiceNo=n[0].POInvoiceNo,e.ObjMasterData.OrderDate=n[0].OrderDate,e.ObjMasterData.BranchID=n[0].BranchID,e.ObjMasterData.QuotationRef=n[0].QuotationRef,e.ObjMasterData.SupplierID=n[0].SupplierID,e.SupplierName=n[0].SupplierName,e.ObjMasterData.Description=n[0].Description,e.ObjMasterData.InvoiceDiscount=n[0].InvoiceDiscount,e.ObjMasterData.TotalLineDiscount=n[0].TotalLineDiscount,e.ObjMasterData.NetAmount=n[0].NetAmount}e.isArrayHasValue(t[0].DetailData)&&(e.GridVisibility=!0,e.ArrDetailData=t[0].DetailData,e.TotalQuantity=e.getSum(e.ArrDetailData,"Quantity"),e.SubTotal=e.getSum(e.ArrDetailData,"TotalAmount"))}),(function(t){return alert("error")}))}},{key:"onRoleDelete",value:function(t){console.log("Delete Event In Console"),window.confirm("Are you sure you want to delete?")}},{key:"onEditRowSelect",value:function(t){}},{key:"DetailSavingClick",value:function(){this.ItemMandatory=!1;var t=!1;null!=this.ObjDetailData.ProductID&&""!=this.ObjDetailData.ProductID||(this.ItemMandatory=!0,t=!0),null!=this.ObjDetailData.Price&&""!=this.ObjDetailData.Price||(this.PriceMandatory=!0,t=!0),null!=this.ObjDetailData.Quantity&&""!=this.ObjDetailData.Quantity||(this.QtyMandatory=!0,t=!0),1==this.IsDuplicateExists(this.ObjDetailData.ProductID,this.ArrDetailData,"ProductID")&&(this.ProductDuplicate=!0,t=!0),t||(this.GridVisibility=!0,this.ArrDetailData.push(this.ObjDetailData),console.log(this.ArrDetailData),this.ObjDetailData=new S,this.ItemBarcode="",this.ObjDetailData.NetAmount=null,this.TotalQuantity=this.getSum(this.ArrDetailData,"Quantity"),this.SubTotal=this.getSum(this.ArrDetailData,"NetAmount"),null==this.ObjMasterData.InvoiceDiscount||""==this.ObjMasterData.InvoiceDiscount||isNaN(this.ObjMasterData.InvoiceDiscount)?this.ObjMasterData.NetAmount=this.getSum(this.ArrDetailData,"NetAmount"):(this.ObjMasterData.NetAmount=this.getSum(this.ArrDetailData,"NetAmount")-this.ObjMasterData.InvoiceDiscount,this.ObjMasterData.TotalLineDiscount=this.ObjMasterData.NetAmount))}},{key:"deleteDetailData",value:function(t){this.ArrDetailData.splice(t,1),0===this.ArrDetailData.length&&(this.GridVisibility=!1)}},{key:"getSum",value:function(t,e){return t.reduce((function(t,n){return t+n[e]}),0)}},{key:"IsDuplicateExists",value:function(t,e,n){var a;for(a=0;a<e.length;a++)if(e[a][n]==t)return!0;return!1}},{key:"GetDropdownSetups",value:function(){var t=this;this.dataservice.get("PurchaseOrder/GetSetupData/"+this.Culture).subscribe((function(e){t.isArrayHasValue(e[0].Location)&&(t.ddlLocation=e[0].Location,t.ObjMasterData.BranchID=t.ddlLocation[0].BranchID)}),(function(t){return alert("error")}))}},{key:"openDialogSupplierLookUp",value:function(){var t=this;this.dialog.open(d.a,{width:"700px",data:{columnName:{Id:"",SupplierID:"Supplier ID",SupplierName:"Supplier Name",ContactPerson:"Contact Person",MobilePhone:"Mobile Phone"},whereClause:{Id:"1"},url:"PurchaseOrder/lookupSupplier",urlSearch:"PurchaseOrder/lookupSupplierSearch",hideColumns:"Id",headingName:"Supplier"}}).afterClosed().subscribe((function(e){null!=e&&(t.ObjMasterData.SupplierID=e.SupplierID,t.SupplierName=e.SupplierName)}))}},{key:"openDialogItemBarcodeLookUp",value:function(){var t=this;this.dialog.open(d.a,{width:"700px",data:{columnName:{Id:"",ProductID:"Product ID",ProductCode:"Product Code",ProductName:"Product Name",Barcode:"Barcode"},whereClause:{Id:"1"},url:"PurchaseOrder/lookupItemBarcode",urlSearch:"PurchaseOrder/lookupItemBarcodeSearch",hideColumns:"Id",headingName:"Product"}}).afterClosed().subscribe((function(e){null!=e&&(console.log(e),t.ObjDetailData.ProductID=e.ProductID,t.ItemBarcode=e.Barcode,t.ObjDetailData.ProductName=e.ProductName,t.ItemMandatory=!1)}))}},{key:"isArrayHasValue",value:function(t){return Boolean(Array.isArray(t)&&t.length)}},{key:"SaveData",value:function(){var t=this;this.PONoMandatory=!1,this.OrderDate=!1,this.SupplierDate=!1;var e=!1;null!=this.ObjMasterData.POInvoiceNo&&""!=this.ObjMasterData.POInvoiceNo||(this.PONoMandatory=!0,e=!0),null!=this.ObjMasterData.OrderDate&&""!=this.ObjMasterData.OrderDate||(this.OrderDate=!0,e=!0),null!=this.ObjMasterData.SupplierID&&""!=this.ObjMasterData.SupplierID||(this.SupplierDate=!0,e=!0),e||this.dataservice.post("PurchaseOrder/SaveRecord/",[this.ObjMasterData.POID,this.ObjMasterData,this.ArrDetailData]).subscribe((function(e){e&&(e.split("|"),"Insert"==e?(t.ObjMasterData=new N,t.ObjDetailData=new S,t.TotalQuantity=void 0,t.SubTotal=void 0,t.arrData=[],t.popup.ShowPopup("Insert"),t.GridVisibility=!1,t.SupplierName="",t.GetNewPONumber()):"Update"==e?t.popup.ShowPopup("Update"):alert("error"))}),(function(t){return alert("error")}))}},{key:"PriceChange",value:function(){this.PriceMandatory=!1,this.QtyMandatory=!1;var t=parseInt(this.ObjDetailData.Price)*parseInt(this.ObjDetailData.Quantity);isNaN(t)||(this.ObjDetailData.NetAmount=t,this.ObjDetailData.TotalAmount=t,isNaN(this.ObjDetailData.LineDiscount)||""==this.ObjDetailData.LineDiscount||null==this.ObjDetailData.LineDiscount||(t-=parseFloat(this.ObjDetailData.LineDiscount),this.ObjDetailData.NetAmount=t,this.ObjDetailData.TotalAmount=t))}},{key:"InvDiscountChange",value:function(){var t=parseInt(this.SubTotal)-parseInt(this.ObjMasterData.InvoiceDiscount);isNaN(t)||(this.ObjMasterData.TotalLineDiscount=t,this.ObjMasterData.NetAmount=t)}},{key:"TaxAmountChange",value:function(){var t=parseInt(this.ObjDetailData.TotalAmount)+parseInt(this.ObjDetailData.TaxAmount);isNaN(t)||(this.ObjDetailData.NetAmount=t)}}]),e}()).\u0275fac=function(t){return new(t||v)(p.Ob(c.a),p.Ob(h.b),p.Ob(l.sb),p.Ob(u.a),p.Ob(s.a))},v.\u0275cmp=p.Ib({type:v,selectors:[["ngx-purchaseorder"]],decls:135,vars:31,consts:[[1,"row"],[1,"col-md-6","col-sm-12"],[1,"form-group"],["for","bPONo",1,"label"],["nbInput","","fullWidth","","name","bPONo","placeholder","PO Number","readonly","",3,"ngModel","ngModelChange"],["class","caption status-danger",4,"ngIf"],["for","bod",1,"label"],["nbInput","","placeholder","Order Date","name","bod","autocomplete","off",2,"width","100%",3,"ngModel","nbDatepicker","ngModelChange"],["formpicker",""],["name","bActive",2,"display","none",3,"ngModel","ngModelChange"],["for","bLocation",1,"label"],["fullWidth","","name","bLocation",3,"selected","selectedChange"],[3,"value",4,"ngFor","ngForOf"],["for","bref",1,"label"],["nbInput","","fullWidth","","name","bref","placeholder","Reference",3,"ngModel","ngModelChange"],["for","bSupplier",1,"label"],["nbInput","","fullWidth","","name","bSupplier","placeholder","Supplier Name","readonly","",2,"width","89%",3,"ngModel","ngModelChange"],[1,"fa","fa-search",3,"click"],["for","bBarcode",1,"label"],["nbInput","","fullWidth","","name","bBarcode","placeholder","Item Barcode",2,"width","89%",3,"ngModel","ngModelChange"],["for","bIN",1,"label"],["nbInput","","fullWidth","","name","bIN","placeholder","Item Name","readonly","",2,"cursor","not-allowed",3,"ngModel","ngModelChange"],[1,"table-responsive"],["width","100%",1,"table","table-condensed","table-striped","table-bordered","table-hover"],[2,"color","white","background-color","#53555B","height","30px"],["nbInput","","fullWidth","","name","bCP","type","number","maxlength","8",3,"ngModel","input","ngModelChange"],["nbInput","","fullWidth","","name","bqty","type","number","maxlength","5",3,"ngModel","input","ngModelChange"],["nbInput","","fullWidth","","name","bDiscount","type","number","maxlength","5",3,"ngModel","input","ngModelChange"],["nbInput","","fullWidth","","name","bTotal","type","number","maxlength","10",3,"ngModel","ngModelChange"],["nbInput","","fullWidth","","name","btxA","type","number","maxlength","10",3,"ngModel","input","ngModelChange"],["nbInput","","fullWidth","","name","bNamt","type","number","readonly","",2,"cursor","not-allowed",3,"ngModel","ngModelChange"],["nbButton","","status","success",3,"click"],["class","table-responsive",4,"ngIf"],[1,"col-lg-8"],[1,"tab-content"],["id","delivery-method",1,"tab-block"],["action","#",1,"shipping-form"],[1,"form-group","col-md-8"],[1,"text-uppercase",2,"font-size","14px","font-weight","700"],["nbInput","","fullWidth","","name","bsummary",2,"height","100%","width","100%",3,"ngModel","ngModelChange"],[1,"col-lg-4"],[1,"block-body","order-summary"],[1,"order-menu","list-unstyled"],[1,"d-flex","justify-content-between"],["type","text","readonly","",2,"width","130px","text-align","right",3,"value"],[1,"d-flex","justify-content-between",2,"padding-top","5px"],["type","number","maxlength","6",2,"width","130px","text-align","right",3,"ngModel","input","ngModelChange"],["type","text","readonly","",1,"text-primary","price-total",2,"width","130px","text-align","right",3,"value"],[2,"text-align","right"],[1,"caption","status-danger"],[3,"value"],[1,"table","table-condensed","table-striped","table-bordered","table-hover"],[4,"ngFor","ngForOf"],["type","image","width","30","height","20","src","../../../../assets/images/delete.png",3,"click"]],template:function(t,e){if(1&t&&(p.Ub(0,"nb-card"),p.Ub(1,"nb-card-header"),p.Lc(2," Purchase Order "),p.Tb(),p.Ub(3,"nb-card-body"),p.Ub(4,"div",0),p.Ub(5,"div",1),p.Ub(6,"div",2),p.Ub(7,"label",3),p.Lc(8,"PO Number"),p.Tb(),p.Ub(9,"input",4),p.bc("ngModelChange",(function(t){return e.ObjMasterData.POInvoiceNo=t})),p.Tb(),p.Jc(10,g,2,0,"p",5),p.Tb(),p.Tb(),p.Ub(11,"div",1),p.Ub(12,"div",2),p.Ub(13,"label",6),p.Lc(14,"Order Date"),p.Tb(),p.Ub(15,"input",7),p.bc("ngModelChange",(function(t){return e.ObjMasterData.OrderDate=t})),p.Tb(),p.Pb(16,"nb-datepicker",null,8),p.Jc(18,m,2,0,"p",5),p.Lc(19,"\xa0\xa0\xa0 "),p.Ub(20,"nb-checkbox",9),p.bc("ngModelChange",(function(t){return e.ObjMasterData.Posted=t})),p.Lc(21,"Posted"),p.Tb(),p.Tb(),p.Tb(),p.Ub(22,"div",1),p.Ub(23,"div",2),p.Ub(24,"label",10),p.Lc(25,"Location"),p.Tb(),p.Ub(26,"nb-select",11),p.bc("selectedChange",(function(t){return e.ObjMasterData.BranchID=t})),p.Jc(27,D,2,2,"nb-option",12),p.Tb(),p.Tb(),p.Tb(),p.Ub(28,"div",1),p.Ub(29,"div",2),p.Ub(30,"label",13),p.Lc(31,"Reference"),p.Tb(),p.Ub(32,"input",14),p.bc("ngModelChange",(function(t){return e.ObjMasterData.QuotationRef=t})),p.Tb(),p.Tb(),p.Tb(),p.Ub(33,"div",1),p.Ub(34,"div",2),p.Ub(35,"label",15),p.Lc(36,"Supplier Name"),p.Tb(),p.Ub(37,"input",16),p.bc("ngModelChange",(function(t){return e.SupplierName=t})),p.Tb(),p.Lc(38," \xa0\xa0 "),p.Ub(39,"i",17),p.bc("click",(function(){return e.openDialogSupplierLookUp()})),p.Tb(),p.Jc(40,M,2,0,"p",5),p.Tb(),p.Tb(),p.Tb(),p.Tb(),p.Ub(41,"nb-card-body"),p.Pb(42,"hr"),p.Ub(43,"div",0),p.Ub(44,"div",1),p.Ub(45,"div",2),p.Ub(46,"label",18),p.Lc(47,"Item Barcode"),p.Tb(),p.Ub(48,"input",19),p.bc("ngModelChange",(function(t){return e.ItemBarcode=t})),p.Tb(),p.Lc(49,"\xa0\xa0 "),p.Ub(50,"i",17),p.bc("click",(function(){return e.openDialogItemBarcodeLookUp()})),p.Tb(),p.Jc(51,f,2,0,"p",5),p.Jc(52,O,2,0,"p",5),p.Tb(),p.Tb(),p.Ub(53,"div",1),p.Ub(54,"div",2),p.Ub(55,"label",20),p.Lc(56,"Item Name"),p.Tb(),p.Ub(57,"input",21),p.bc("ngModelChange",(function(t){return e.ObjDetailData.ProductName=t})),p.Tb(),p.Tb(),p.Tb(),p.Tb(),p.Ub(58,"div",0),p.Ub(59,"div",22),p.Ub(60,"table",23),p.Ub(61,"tr",24),p.Ub(62,"td"),p.Lc(63,"Cost Price"),p.Tb(),p.Ub(64,"td"),p.Lc(65,"Quantity"),p.Tb(),p.Ub(66,"td"),p.Lc(67,"Discount"),p.Tb(),p.Ub(68,"td"),p.Lc(69,"Total Amount"),p.Tb(),p.Ub(70,"td"),p.Lc(71,"Tax Amount"),p.Tb(),p.Ub(72,"td"),p.Lc(73,"Net Amount"),p.Tb(),p.Pb(74,"td"),p.Tb(),p.Ub(75,"tr"),p.Ub(76,"td"),p.Ub(77,"input",25),p.bc("input",(function(){return e.PriceChange()}))("ngModelChange",(function(t){return e.ObjDetailData.Price=t})),p.Tb(),p.Jc(78,C,2,0,"p",5),p.Tb(),p.Ub(79,"td"),p.Ub(80,"input",26),p.bc("input",(function(){return e.PriceChange()}))("ngModelChange",(function(t){return e.ObjDetailData.Quantity=t})),p.Tb(),p.Jc(81,P,2,0,"p",5),p.Tb(),p.Ub(82,"td"),p.Ub(83,"input",27),p.bc("input",(function(){return e.PriceChange()}))("ngModelChange",(function(t){return e.ObjDetailData.LineDiscount=t})),p.Tb(),p.Tb(),p.Ub(84,"td"),p.Ub(85,"input",28),p.bc("ngModelChange",(function(t){return e.ObjDetailData.TotalAmount=t})),p.Tb(),p.Tb(),p.Ub(86,"td"),p.Ub(87,"input",29),p.bc("input",(function(){return e.TaxAmountChange()}))("ngModelChange",(function(t){return e.ObjDetailData.TaxAmount=t})),p.Tb(),p.Tb(),p.Ub(88,"td"),p.Ub(89,"input",30),p.bc("ngModelChange",(function(t){return e.ObjDetailData.NetAmount=t})),p.Tb(),p.Tb(),p.Ub(90,"td"),p.Ub(91,"button",31),p.bc("click",(function(){return e.DetailSavingClick()})),p.Lc(92,"Add"),p.Tb(),p.Tb(),p.Tb(),p.Tb(),p.Tb(),p.Jc(93,y,20,1,"div",32),p.Tb(),p.Tb(),p.Ub(94,"nb-card-body"),p.Ub(95,"div",0),p.Ub(96,"div",33),p.Ub(97,"div",34),p.Ub(98,"div",35),p.Ub(99,"form",36),p.Ub(100,"div",0),p.Ub(101,"div",37),p.Ub(102,"label",38),p.Lc(103,"Description"),p.Tb(),p.Ub(104,"textarea",39),p.bc("ngModelChange",(function(t){return e.ObjMasterData.Description=t})),p.Tb(),p.Tb(),p.Tb(),p.Tb(),p.Tb(),p.Tb(),p.Tb(),p.Ub(105,"div",40),p.Pb(106,"br"),p.Ub(107,"div",41),p.Ub(108,"label",38),p.Lc(109,"Purchase Order Summary"),p.Tb(),p.Ub(110,"ul",42),p.Ub(111,"li",43),p.Ub(112,"span"),p.Lc(113,"Total Quantity "),p.Tb(),p.Pb(114,"input",44),p.Tb(),p.Ub(115,"li",45),p.Ub(116,"span"),p.Lc(117,"Sub Total"),p.Tb(),p.Pb(118,"input",44),p.Tb(),p.Ub(119,"li",45),p.Ub(120,"span"),p.Lc(121,"Invoice Discount"),p.Tb(),p.Ub(122,"input",46),p.bc("input",(function(){return e.InvDiscountChange()}))("ngModelChange",(function(t){return e.ObjMasterData.InvoiceDiscount=t})),p.Tb(),p.Tb(),p.Ub(123,"li",45),p.Ub(124,"span"),p.Lc(125,"After inv Discount"),p.Tb(),p.Pb(126,"input",44),p.Tb(),p.Ub(127,"li",45),p.Ub(128,"span"),p.Lc(129,"Net Amount"),p.Tb(),p.Pb(130,"input",47),p.Tb(),p.Tb(),p.Tb(),p.Tb(),p.Tb(),p.Pb(131,"hr"),p.Ub(132,"div",48),p.Ub(133,"button",31),p.bc("click",(function(){return e.SaveData()})),p.Lc(134),p.Tb(),p.Tb(),p.Tb(),p.Tb()),2&t){var n=p.uc(17);p.Cb(9),p.lc("ngModel",e.ObjMasterData.POInvoiceNo),p.Cb(1),p.lc("ngIf",e.PONoMandatory),p.Cb(5),p.lc("ngModel",e.ObjMasterData.OrderDate)("nbDatepicker",n),p.Cb(3),p.lc("ngIf",e.OrderDate),p.Cb(2),p.lc("ngModel",e.ObjMasterData.Posted),p.Cb(6),p.lc("selected",e.ObjMasterData.BranchID),p.Cb(1),p.lc("ngForOf",e.ddlLocation),p.Cb(5),p.lc("ngModel",e.ObjMasterData.QuotationRef),p.Cb(5),p.lc("ngModel",e.SupplierName),p.Cb(3),p.lc("ngIf",e.SupplierDate),p.Cb(8),p.lc("ngModel",e.ItemBarcode),p.Cb(3),p.lc("ngIf",e.ItemMandatory),p.Cb(1),p.lc("ngIf",e.ProductDuplicate),p.Cb(5),p.lc("ngModel",e.ObjDetailData.ProductName),p.Cb(20),p.lc("ngModel",e.ObjDetailData.Price),p.Cb(1),p.lc("ngIf",e.PriceMandatory),p.Cb(2),p.lc("ngModel",e.ObjDetailData.Quantity),p.Cb(1),p.lc("ngIf",e.QtyMandatory),p.Cb(2),p.lc("ngModel",e.ObjDetailData.LineDiscount),p.Cb(2),p.lc("ngModel",e.ObjDetailData.TotalAmount),p.Cb(2),p.lc("ngModel",e.ObjDetailData.TaxAmount),p.Cb(2),p.lc("ngModel",e.ObjDetailData.NetAmount),p.Cb(4),p.lc("ngIf",e.GridVisibility),p.Cb(11),p.lc("ngModel",e.ObjMasterData.Description),p.Cb(10),p.mc("value",e.TotalQuantity),p.Cb(4),p.mc("value",e.SubTotal),p.Cb(4),p.lc("ngModel",e.ObjMasterData.InvoiceDiscount),p.Cb(4),p.mc("value",e.ObjMasterData.TotalLineDiscount),p.Cb(4),p.mc("value",e.ObjMasterData.NetAmount),p.Cb(4),p.Mc(e.btnSave)}},directives:[l.o,l.q,l.n,l.H,r.b,r.p,r.s,o.p,l.z,l.y,l.t,l.bb,o.o,r.u,r.k,l.l,r.C,r.q,r.r,l.U],styles:[".nb-theme-default   [_nghost-%COMP%]   .position-select[_ngcontent-%COMP%]{min-width:13rem}.nb-theme-default   [_nghost-%COMP%]   .label[_ngcontent-%COMP%]{display:block}.nb-theme-default   [_nghost-%COMP%]   .input-group.input-group-unstyled[_ngcontent-%COMP%]   input.form-control[_ngcontent-%COMP%]{border-radius:4px}.nb-theme-default   [_nghost-%COMP%]   .input-group-unstyled[_ngcontent-%COMP%]   .input-group-addon[_ngcontent-%COMP%]{border-radius:4px;border:0;background-color:transparent}[dir=ltr]   .nb-theme-default   [_nghost-%COMP%]   nb-card-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:first-child{margin-right:1rem}[dir=rtl]   .nb-theme-default   [_nghost-%COMP%]   nb-card-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:first-child{margin-left:1rem}.nb-theme-dark   [_nghost-%COMP%]   .position-select[_ngcontent-%COMP%]{min-width:13rem}.nb-theme-dark   [_nghost-%COMP%]   .label[_ngcontent-%COMP%]{display:block}.nb-theme-dark   [_nghost-%COMP%]   .input-group.input-group-unstyled[_ngcontent-%COMP%]   input.form-control[_ngcontent-%COMP%]{border-radius:4px}.nb-theme-dark   [_nghost-%COMP%]   .input-group-unstyled[_ngcontent-%COMP%]   .input-group-addon[_ngcontent-%COMP%]{border-radius:4px;border:0;background-color:transparent}[dir=ltr]   .nb-theme-dark   [_nghost-%COMP%]   nb-card-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:first-child{margin-right:1rem}[dir=rtl]   .nb-theme-dark   [_nghost-%COMP%]   nb-card-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:first-child{margin-left:1rem}.nb-theme-cosmic   [_nghost-%COMP%]   .position-select[_ngcontent-%COMP%]{min-width:13rem}.nb-theme-cosmic   [_nghost-%COMP%]   .label[_ngcontent-%COMP%]{display:block}.nb-theme-cosmic   [_nghost-%COMP%]   .input-group.input-group-unstyled[_ngcontent-%COMP%]   input.form-control[_ngcontent-%COMP%]{border-radius:4px}.nb-theme-cosmic   [_nghost-%COMP%]   .input-group-unstyled[_ngcontent-%COMP%]   .input-group-addon[_ngcontent-%COMP%]{border-radius:4px;border:0;background-color:transparent}[dir=ltr]   .nb-theme-cosmic   [_nghost-%COMP%]   nb-card-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:first-child{margin-right:1rem}[dir=rtl]   .nb-theme-cosmic   [_nghost-%COMP%]   nb-card-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:first-child{margin-left:1rem}.nb-theme-corporate   [_nghost-%COMP%]   .position-select[_ngcontent-%COMP%]{min-width:13rem}.nb-theme-corporate   [_nghost-%COMP%]   .label[_ngcontent-%COMP%]{display:block}.nb-theme-corporate   [_nghost-%COMP%]   .input-group.input-group-unstyled[_ngcontent-%COMP%]   input.form-control[_ngcontent-%COMP%]{border-radius:4px}.nb-theme-corporate   [_nghost-%COMP%]   .input-group-unstyled[_ngcontent-%COMP%]   .input-group-addon[_ngcontent-%COMP%]{border-radius:4px;border:0;background-color:transparent}[dir=ltr]   .nb-theme-corporate   [_nghost-%COMP%]   nb-card-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:first-child{margin-right:1rem}[dir=rtl]   .nb-theme-corporate   [_nghost-%COMP%]   nb-card-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:first-child{margin-left:1rem}@media only screen and (max-width:700px){input[type=number][_ngcontent-%COMP%]{width:100px!important}}"]}),v),N=function e(){t(this,e),this.POID=0,this.POInvoiceNo="",this.QuotationRef="",this.OrderDate="",this.DeliveryDate="",this.Description="",this.OrderStatus="P",this.Notes="",this.Posted=!1,this.CreatedBy="",this.CreatedOn=""},S=function e(){t(this,e)},j=i("RS3s"),L=function(){return["../purchaseorder"]},A=((U=function(){function e(n,a,i,o){var r=this;t(this,e),this.dataservice=n,this.popup=a,this.renderer2=i,this.e=o,this.lstarray=[],this.settings={selectMode:"multi",actions:{columnTitle:"",add:!1,delete:!1,edit:!1},columns:{POID:{title:"PO ID",editable:!1},POInvoiceNo:{title:"Purchase Order",editable:!1},OrderDate:{title:"Order Date",editable:!1},BranchName:{title:"Location",editable:!1},SupplierName:{title:"Supplier Name",editable:!1},NetAmount:{title:"Net Amount",editable:!1},index:{title:"Details",type:"html",filter:!1,valuePrepareFunction:function(t,e,n){return'<a href="/pages/purchasemanagement/purchaseorder?Id='+r.lstarray[n.row.index].POID+'"><i class="fa fa-search"></i> View</a>'}}},attr:{class:"table table-bordered"},hideSubHeader:!1},this.selectedRows=[],this.LoadGrid()}return n(e,[{key:"ngoninit",value:function(){this.dataservice.checkFormRights("PurchaseOrderList","Allow")}},{key:"ngAfterViewInit",value:function(){}},{key:"onUserRowSelect",value:function(t){this.selectedRows=[],this.selectedRows.push(t.selected)}},{key:"LoadGrid",value:function(){var t=this;this.dataservice.get("PurchaseOrder/GetListGridData/ENG").subscribe((function(e){t.isArrayHasValue(e[0].GridData)&&(t.lstarray=e[0].GridData)}))}},{key:"isArrayHasValue",value:function(t){return Boolean(Array.isArray(t)&&t.length)}},{key:"ApproveDisapprove",value:function(t){for(var e,n=this,a=0;a<this.selectedRows.length;a++)e=this.selectedRows[a].map((function(t){return t.POID}));console.log(e),this.dataservice.post("PurchaseOrder/ApproveDisapprovePO/",[e,t]).subscribe((function(t){t&&("SUCCESS"==t?(e=[],n.popup.ShowPopup("Update"),n.LoadGrid()):alert("error"))}),(function(t){return alert("error")}))}}]),e}()).\u0275fac=function(t){return new(t||U)(p.Ob(u.a),p.Ob(s.a),p.Ob(p.G),p.Ob(p.l))},U.\u0275cmp=p.Ib({type:U,selectors:[["ngx-purchaseorderlist"]],decls:17,vars:4,consts:[["href","//stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css","rel","stylesheet"],[1,"col-md-12",2,"text-align","right"],["nbButton","","status","success",1,"btn","btn-responsive",3,"routerLink"],["nbButton","","status","success",1,"btn","btn-responsive",2,"width","150px",3,"click"],[1,"col-md-12"],[3,"settings","source","userRowSelect"]],template:function(t,e){1&t&&(p.Pb(0,"link",0),p.Ub(1,"nb-card"),p.Ub(2,"nb-card-header"),p.Lc(3," View Purchase Order List "),p.Ub(4,"div",1),p.Ub(5,"button",2),p.Lc(6,"Add New Purchase Order"),p.Tb(),p.Lc(7,"\xa0\xa0\xa0 "),p.Ub(8,"button",3),p.bc("click",(function(){return e.ApproveDisapprove("A")})),p.Lc(9,"Approve"),p.Tb(),p.Lc(10,"\xa0\xa0\xa0 "),p.Ub(11,"button",3),p.bc("click",(function(){return e.ApproveDisapprove("D")})),p.Lc(12,"Disapprove"),p.Tb(),p.Lc(13,"\xa0\xa0\xa0 "),p.Tb(),p.Tb(),p.Ub(14,"nb-card-body"),p.Ub(15,"div",4),p.Ub(16,"ng2-smart-table",5),p.bc("userRowSelect",(function(t){return e.onUserRowSelect(t)})),p.Tb(),p.Tb(),p.Tb(),p.Tb()),2&t&&(p.Cb(5),p.lc("routerLink",p.oc(3,L)),p.Cb(11),p.lc("settings",e.settings)("source",e.lstarray))},directives:[l.o,l.q,l.l,c.d,l.n,j.b],styles:[".nb-theme-default   [_nghost-%COMP%]   .position-select[_ngcontent-%COMP%]{min-width:13rem}.nb-theme-default   [_nghost-%COMP%]   .label[_ngcontent-%COMP%]{display:block}[dir=ltr]   .nb-theme-default   [_nghost-%COMP%]   nb-card-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:first-child{margin-right:1rem}[dir=rtl]   .nb-theme-default   [_nghost-%COMP%]   nb-card-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:first-child{margin-left:1rem}.nb-theme-dark   [_nghost-%COMP%]   .position-select[_ngcontent-%COMP%]{min-width:13rem}.nb-theme-dark   [_nghost-%COMP%]   .label[_ngcontent-%COMP%]{display:block}[dir=ltr]   .nb-theme-dark   [_nghost-%COMP%]   nb-card-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:first-child{margin-right:1rem}[dir=rtl]   .nb-theme-dark   [_nghost-%COMP%]   nb-card-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:first-child{margin-left:1rem}.nb-theme-cosmic   [_nghost-%COMP%]   .position-select[_ngcontent-%COMP%]{min-width:13rem}.nb-theme-cosmic   [_nghost-%COMP%]   .label[_ngcontent-%COMP%]{display:block}[dir=ltr]   .nb-theme-cosmic   [_nghost-%COMP%]   nb-card-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:first-child{margin-right:1rem}[dir=rtl]   .nb-theme-cosmic   [_nghost-%COMP%]   nb-card-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:first-child{margin-left:1rem}.nb-theme-corporate   [_nghost-%COMP%]   .position-select[_ngcontent-%COMP%]{min-width:13rem}.nb-theme-corporate   [_nghost-%COMP%]   .label[_ngcontent-%COMP%]{display:block}[dir=ltr]   .nb-theme-corporate   [_nghost-%COMP%]   nb-card-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:first-child{margin-right:1rem}[dir=rtl]   .nb-theme-corporate   [_nghost-%COMP%]   nb-card-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:first-child{margin-left:1rem}.ng2-smart-action-multiple-select[_ngcontent-%COMP%]{text-align:center}.ng2-smart-action-multiple-select[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]{width:25px;height:25px;display:unset}@media only screen and (max-width:712px){.btn[_ngcontent-%COMP%]{width:100%!important;margin-bottom:-12px!important}}"]}),U),_=i("tk/3");function w(t,e){if(1&t){var n=p.Vb();p.Ub(0,"p",23),p.bc("ngModelChange",(function(t){return p.yc(n),p.fc().lblSupplierName=t})),p.Lc(1),p.Tb()}if(2&t){var a=p.fc();p.lc("ngModel",a.lblSupplierName),p.Cb(1),p.Mc(a.lblSupplierName)}}function k(t,e){if(1&t&&(p.Ub(0,"nb-option",24),p.Lc(1),p.Tb()),2&t){var n=e.$implicit;p.lc("value",n.CountryID),p.Cb(1),p.Mc(n.CountryName)}}function x(t,e){if(1&t){var n=p.Vb();p.Ub(0,"button",25),p.bc("click",(function(){return p.yc(n),p.fc().Save()})),p.Lc(1,"Save"),p.Tb()}}function B(t,e){if(1&t){var n=p.Vb();p.Ub(0,"button",26),p.bc("click",(function(){return p.yc(n),p.fc().Save()})),p.Lc(1,"Update"),p.Tb()}}var G,Q=((G=function(){function e(n,a,i){t(this,e),this._userService=n,this._http=a,this.popup=i,this.objSupplier=new R,this.showButton=!1,this.showlblSupplierName=!1,this.lblSupplierName="",this.lstSuppliers=[],this.lstCountry=[],this.lstCity=[],this.settings={actions:{add:!1,columnTitle:""},mode:"external",edit:{editButtonContent:'<i class="nb-edit"></i>',confirmEdit:!0},delete:{deleteButtonContent:'<i class="nb-trash"></i>',confirmDelete:!0},columns:{SupplierName:{title:"Name"},Phone:{title:"Phone"},MobilePhone:{title:"Mobile"},Email:{title:"Email"},Address1:{title:"Address 1"}},attr:{class:"table table-bordered"},hideSubHeader:!1}}return n(e,[{key:"ngOnInit",value:function(){var t=this;this._userService.checkFormRights("posSupplier","Allow"),this.GridBind(),this._userService.get("Supplier/GetCountryData").subscribe((function(e){t.lstCountry=e[0].Country,t.objSupplier.CountryID=t.lstCountry[0].CountryID}))}},{key:"GridBind",value:function(){var t=this;this._userService.get("Supplier/GetSuppliers").subscribe((function(e){t.lstSuppliers=e.Table,t.objSupplier.SupplierID=e.Table1[0].Column1+1}))}},{key:"Save",value:function(){var t=this;if(""==this.objSupplier.SupplierName||null==this.objSupplier.SupplierName)return this.showlblSupplierName=!0,void(this.lblSupplierName="Please enter Name!");this.showlblSupplierName=!1,this._userService.post("Supplier/SaveSupplier",this.objSupplier).subscribe((function(e){"Insert"==e?(t.popup.ShowPopup("Insert"),t.GridBind(),t.objSupplier=new R,t.objSupplier.CountryID=t.lstCountry[0].CountryID):"Update"==e?(t.popup.ShowPopup("Update"),t.showButton=!1,t.objSupplier.Mode="New",t.objSupplier=new R,t.GridBind(),t.objSupplier.CountryID=t.lstCountry[0].CountryID):"Duplicate"==e?(t.showlblSupplierName=!0,t.lblSupplierName="Name already exist!",window.scrollTo(0,0)):alert("404: Error")}))}},{key:"onDeleteConfirm",value:function(t){var e=this;window.confirm("Are you sure you want to delete?")&&(this.objSupplier.SupplierID=t.data.SupplierID,this._userService.post("Supplier/DeleteSupplier",this.objSupplier).subscribe((function(t){"Delete"==t?(e.popup.ShowPopup("Delete"),e.GridBind(),e.showlblSupplierName=!1,e.showButton=!1,e.objSupplier=new R,e.objSupplier.CountryID=e.lstCountry[0].CountryID):alert("404: Error")})))}},{key:"Cancel",value:function(){this.showButton=!1,this.objSupplier=new R,this.showlblSupplierName=!1,this.objSupplier.CountryID=this.lstCountry[0].CountryID}},{key:"onedit",value:function(t){this.objSupplier.SupplierID=t.data.SupplierID,this.objSupplier.SupplierName=t.data.SupplierName,this.objSupplier.ContactPerson=t.data.ContactPerson,this.objSupplier.Phone=t.data.Phone,this.objSupplier.Email=t.data.Email,this.objSupplier.MobilePhone=t.data.MobilePhone,this.objSupplier.CountryID=t.data.CountryID,this.objSupplier.CityID=t.data.CityID,this.objSupplier.Address1=t.data.Address1,this.objSupplier.Address2=t.data.Address2,this.objSupplier.VatRegistrationNo=t.data.VatRegistrationNo,this.objSupplier.AccountNo=t.data.AccountNo,window.scrollTo(0,0),this.showButton=!0,this.showlblSupplierName=!1,this.objSupplier.Mode="Update"}},{key:"numberOnly",value:function(t){var e=t.which?t.which:t.keyCode;return!(e>31&&(e<48||e>57))}}]),e}()).\u0275fac=function(t){return new(t||G)(p.Ob(u.a),p.Ob(_.a),p.Ob(s.a))},G.\u0275cmp=p.Ib({type:G,selectors:[["ngx-supplier"]],decls:80,vars:17,consts:[[1,"row"],[1,"col-sm-6"],[1,"form-group"],[1,"label"],["type","text","maxlength","50","nbInput","","fullWidth","","placeholder","Name",3,"ngModel","ngModelChange"],["class","caption status-danger",3,"ngModel","ngModelChange",4,"ngIf"],["type","text","maxlength","50","nbInput","","fullWidth","","placeholder","Contact Person",3,"ngModel","ngModelChange"],["type","text","maxlength","50","nbInput","","fullWidth","","placeholder","Phone Number",3,"ngModel","keypress","ngModelChange"],["type","text","maxlength","50","nbInput","","fullWidth","","placeholder","Email",3,"ngModel","ngModelChange"],["type","text","maxlength","50","nbInput","","fullWidth","","placeholder","Mobile No.",3,"ngModel","keypress","ngModelChange"],["fullWidth","",3,"selected","selectedChange"],[3,"value",4,"ngFor","ngForOf"],[1,"col-md-6","col-sm-12"],["type","text","maxlength","50","nbInput","","fullWidth","","placeholder","City",3,"ngModel","ngModelChange"],["type","text","nbInput","","fullWidth","","placeholder","Address 1",3,"ngModel","ngModelChange"],["type","text","nbInput","","fullWidth","","placeholder","Address 2",3,"ngModel","ngModelChange"],["type","text","maxlength","50","nbInput","","fullWidth","","placeholder","VAT Reg #",3,"ngModel","ngModelChange"],["type","text","maxlength","50","nbInput","","fullWidth","","placeholder","Account",3,"ngModel","keypress","ngModelChange"],[2,"float","right"],["type","submit","status","success","nbButton","","style","width: 94px;",3,"click",4,"ngIf"],["type","submit","status","success","nbButton","",3,"click",4,"ngIf"],["type","submit","nbButton","",3,"click"],[3,"settings","source","delete","edit"],[1,"caption","status-danger",3,"ngModel","ngModelChange"],[3,"value"],["type","submit","status","success","nbButton","",2,"width","94px",3,"click"],["type","submit","status","success","nbButton","",3,"click"]],template:function(t,e){1&t&&(p.Ub(0,"nb-card"),p.Ub(1,"nb-card-header"),p.Lc(2,"Supplier Information"),p.Tb(),p.Ub(3,"nb-card-body"),p.Ub(4,"div",0),p.Ub(5,"div",1),p.Ub(6,"div",2),p.Ub(7,"label",3),p.Lc(8,"Name"),p.Tb(),p.Ub(9,"input",4),p.bc("ngModelChange",(function(t){return e.objSupplier.SupplierName=t})),p.Tb(),p.Jc(10,w,2,2,"p",5),p.Tb(),p.Tb(),p.Ub(11,"div",1),p.Ub(12,"div",2),p.Ub(13,"label",3),p.Lc(14,"Contact Person"),p.Tb(),p.Ub(15,"input",6),p.bc("ngModelChange",(function(t){return e.objSupplier.ContactPerson=t})),p.Tb(),p.Tb(),p.Tb(),p.Tb(),p.Ub(16,"div",0),p.Ub(17,"div",1),p.Ub(18,"div",2),p.Ub(19,"label",3),p.Lc(20,"Phone Number"),p.Tb(),p.Ub(21,"input",7),p.bc("keypress",(function(t){return e.numberOnly(t)}))("ngModelChange",(function(t){return e.objSupplier.Phone=t})),p.Tb(),p.Tb(),p.Tb(),p.Ub(22,"div",1),p.Ub(23,"div",2),p.Ub(24,"label",3),p.Lc(25,"Email"),p.Tb(),p.Ub(26,"input",8),p.bc("ngModelChange",(function(t){return e.objSupplier.Email=t})),p.Tb(),p.Tb(),p.Tb(),p.Tb(),p.Ub(27,"div",0),p.Ub(28,"div",1),p.Ub(29,"div",2),p.Ub(30,"label",3),p.Lc(31,"Mobile No."),p.Tb(),p.Ub(32,"input",9),p.bc("keypress",(function(t){return e.numberOnly(t)}))("ngModelChange",(function(t){return e.objSupplier.MobilePhone=t})),p.Tb(),p.Tb(),p.Tb(),p.Ub(33,"div",1),p.Ub(34,"div",2),p.Ub(35,"label",3),p.Lc(36,"Country"),p.Tb(),p.Ub(37,"nb-select",10),p.bc("selectedChange",(function(t){return e.objSupplier.CountryID=t})),p.Jc(38,k,2,2,"nb-option",11),p.Tb(),p.Tb(),p.Tb(),p.Tb(),p.Ub(39,"div",0),p.Ub(40,"div",12),p.Ub(41,"div",2),p.Ub(42,"label",3),p.Lc(43,"City"),p.Tb(),p.Ub(44,"input",13),p.bc("ngModelChange",(function(t){return e.objSupplier.CityID=t})),p.Tb(),p.Tb(),p.Tb(),p.Ub(45,"div",1),p.Ub(46,"div",2),p.Ub(47,"label",3),p.Lc(48,"Address 1"),p.Tb(),p.Ub(49,"input",14),p.bc("ngModelChange",(function(t){return e.objSupplier.Address1=t})),p.Tb(),p.Tb(),p.Tb(),p.Tb(),p.Ub(50,"div",0),p.Ub(51,"div",1),p.Ub(52,"div",2),p.Ub(53,"label",3),p.Lc(54,"Address 2"),p.Tb(),p.Ub(55,"input",15),p.bc("ngModelChange",(function(t){return e.objSupplier.Address2=t})),p.Tb(),p.Tb(),p.Tb(),p.Ub(56,"div",1),p.Ub(57,"div",2),p.Ub(58,"label",3),p.Lc(59,"VAT Reg #"),p.Tb(),p.Ub(60,"input",16),p.bc("ngModelChange",(function(t){return e.objSupplier.VatRegistrationNo=t})),p.Tb(),p.Tb(),p.Tb(),p.Tb(),p.Ub(61,"div",0),p.Ub(62,"div",1),p.Ub(63,"div",2),p.Ub(64,"label",3),p.Lc(65,"Account"),p.Tb(),p.Ub(66,"input",17),p.bc("keypress",(function(t){return e.numberOnly(t)}))("ngModelChange",(function(t){return e.objSupplier.AccountNo=t})),p.Tb(),p.Tb(),p.Tb(),p.Tb(),p.Tb(),p.Ub(67,"nb-card-footer"),p.Ub(68,"div",18),p.Jc(69,x,2,0,"button",19),p.Lc(70,"\xa0\xa0 "),p.Jc(71,B,2,0,"button",20),p.Lc(72,"\xa0 "),p.Ub(73,"button",21),p.bc("click",(function(){return e.Cancel()})),p.Lc(74,"Cancel"),p.Tb(),p.Tb(),p.Tb(),p.Tb(),p.Ub(75,"nb-card"),p.Ub(76,"nb-card-header"),p.Lc(77,"Supplier List"),p.Tb(),p.Ub(78,"nb-card-body"),p.Ub(79,"ng2-smart-table",22),p.bc("delete",(function(t){return e.onDeleteConfirm(t)}))("edit",(function(t){return e.onedit(t)})),p.Tb(),p.Tb(),p.Tb()),2&t&&(p.Cb(9),p.lc("ngModel",e.objSupplier.SupplierName),p.Cb(1),p.lc("ngIf",e.showlblSupplierName),p.Cb(5),p.lc("ngModel",e.objSupplier.ContactPerson),p.Cb(6),p.lc("ngModel",e.objSupplier.Phone),p.Cb(5),p.lc("ngModel",e.objSupplier.Email),p.Cb(6),p.lc("ngModel",e.objSupplier.MobilePhone),p.Cb(5),p.lc("selected",e.objSupplier.CountryID),p.Cb(1),p.lc("ngForOf",e.lstCountry),p.Cb(6),p.lc("ngModel",e.objSupplier.CityID),p.Cb(5),p.lc("ngModel",e.objSupplier.Address1),p.Cb(6),p.lc("ngModel",e.objSupplier.Address2),p.Cb(5),p.lc("ngModel",e.objSupplier.VatRegistrationNo),p.Cb(6),p.lc("ngModel",e.objSupplier.AccountNo),p.Cb(3),p.lc("ngIf",!e.showButton),p.Cb(2),p.lc("ngIf",e.showButton),p.Cb(8),p.lc("settings",e.settings)("source",e.lstSuppliers))},directives:[l.o,l.q,l.n,l.H,r.b,r.k,r.p,r.s,o.p,l.bb,o.o,l.p,l.l,j.b,l.U],styles:[""]}),G),R=function e(){t(this,e),this.SupplierName="",this.ContactPerson="",this.Phone="",this.MobilePhone="",this.Email="",this.CityID="",this.Address1="",this.Address2="",this.AccountNo="",this.VatRegistrationNo="",this.Mode="New"};function V(t,e){1&t&&(p.Ub(0,"p",49),p.Lc(1,"Please enter Transaction No"),p.Tb())}function W(t,e){1&t&&(p.Ub(0,"p",49),p.Lc(1,"Please select Order date"),p.Tb())}function E(t,e){1&t&&(p.Ub(0,"p",49),p.Lc(1,"Please select PO Number"),p.Tb())}function J(t,e){if(1&t&&(p.Ub(0,"nb-option",50),p.Lc(1),p.Tb()),2&t){var n=e.$implicit;p.lc("value",n.BranchID),p.Cb(1),p.Mc(n.BranchName)}}function F(t,e){1&t&&(p.Ub(0,"p",49),p.Lc(1,"Please select Supplier"),p.Tb())}function H(t,e){1&t&&(p.Ub(0,"p",49),p.Lc(1,"Please select Item"),p.Tb())}function q(t,e){1&t&&(p.Ub(0,"p",49),p.Lc(1,"Item already exists"),p.Tb())}function z(t,e){1&t&&(p.Ub(0,"p",49),p.Lc(1,"Please enter Price"),p.Tb())}function $(t,e){1&t&&(p.Ub(0,"p",49),p.Lc(1,"Please enter Quantity"),p.Tb())}function K(t,e){if(1&t&&(p.Ub(0,"p",49),p.Lc(1),p.Tb()),2&t){var n=p.fc();p.Cb(1),p.Nc("Please enter Quantity less than or equal to ",n.Quantity,"")}}function X(t,e){if(1&t){var n=p.Vb();p.Ub(0,"tr"),p.Ub(1,"td"),p.Ub(2,"input",54),p.bc("click",(function(){p.yc(n);var t=e.index;return p.fc(2).deleteDetailData(t)})),p.Tb(),p.Tb(),p.Ub(3,"td"),p.Lc(4),p.Tb(),p.Ub(5,"td"),p.Lc(6),p.Tb(),p.Ub(7,"td"),p.Lc(8),p.Tb(),p.Ub(9,"td"),p.Lc(10),p.Tb(),p.Ub(11,"td"),p.Lc(12),p.Tb(),p.Ub(13,"td"),p.Lc(14),p.Tb(),p.Ub(15,"td"),p.Lc(16),p.Tb(),p.Tb()}if(2&t){var a=e.$implicit;p.Cb(4),p.Mc(a.ProductName),p.Cb(2),p.Mc(a.Price),p.Cb(2),p.Mc(a.Quantity),p.Cb(2),p.Mc(a.LineDiscount),p.Cb(2),p.Mc(a.TotalAmount),p.Cb(2),p.Mc(a.TaxAmount),p.Cb(2),p.Mc(a.NetAmount)}}function Y(t,e){if(1&t&&(p.Ub(0,"div",51),p.Ub(1,"table",52),p.Ub(2,"tr"),p.Ub(3,"th"),p.Lc(4,"Action"),p.Tb(),p.Ub(5,"th"),p.Lc(6,"Product Name"),p.Tb(),p.Ub(7,"th"),p.Lc(8,"Price"),p.Tb(),p.Ub(9,"th"),p.Lc(10,"Quantity"),p.Tb(),p.Ub(11,"th"),p.Lc(12,"Discount"),p.Tb(),p.Ub(13,"th"),p.Lc(14,"Total Amount"),p.Tb(),p.Ub(15,"th"),p.Lc(16,"Tax Amount"),p.Tb(),p.Ub(17,"th"),p.Lc(18,"Net Amount"),p.Tb(),p.Tb(),p.Jc(19,X,17,7,"tr",53),p.Tb(),p.Tb()),2&t){var n=p.fc();p.Cb(19),p.lc("ngForOf",n.ArrDetailData)}}var Z,tt,et,nt=((Z=function(){function e(n,a,i,o,r){t(this,e),this.route=n,this.dialog=a,this.toastrService=i,this.dataservice=o,this.popup=r,this.Culture="ENG",this.ObjMasterData=new at,this.ddlLocation=[],this.ObjDetailData=new it,this.ArrDetailData=[],this.btnSave="Save",this.tmpTransactionNo="",this.GridVisibility=!1,this.arrData=[],this.ItemMandatory=!1,this.PriceMandatory=!1,this.QtyMandatory=!1,this.ProductDuplicate=!1,this.QtyExceed=!1,this.SupplierName="",this.ItemBarcode="",this.TrxNoMandatory=!1,this.PONoMandatory=!1,this.OrderDate=!1,this.SupplierDate=!1}return n(e,[{key:"ngOnInit",value:function(){this.dataservice.checkFormRights("posGRN","Allow"),this.GetDropdownSetups(),this.GetNewTransactionNo()}},{key:"GetNewTransactionNo",value:function(){var t=this;this.dataservice.get("GRN/GenerateTransactionNo/").subscribe((function(e){e&&(t.tmpTransactionNo=e)}),(function(t){return alert("error")}))}},{key:"getGRNOrderData",value:function(t){var e=this;this.ObjMasterData=new at,this.ArrDetailData=[],this.GridVisibility=!1,this.SupplierName="",this.TotalQuantity=void 0,this.SubTotal=void 0,this.dataservice.get("GRN/GetGRNMasterDetailData/"+t).subscribe((function(t){if(e.isArrayHasValue(t[0].MasterData)){var n=t[0].MasterData;e.ObjMasterData.POInvoiceNo=n[0].POInvoiceNo,e.ObjMasterData.PurchaseDate=n[0].PurchaseDate,e.ObjMasterData.BranchID=n[0].BranchID,e.ObjMasterData.SupplierID=n[0].SupplierID,e.SupplierName=n[0].SupplierName,e.ObjMasterData.Description=n[0].Description,e.ObjMasterData.InvoiceDiscount=n[0].InvoiceDiscount,e.ObjMasterData.TotalLineDiscount=n[0].TotalLineDiscount,e.ObjMasterData.NetAmount=n[0].NetAmount}else e.ObjMasterData.BranchID=e.ddlLocation[0].BranchID;e.isArrayHasValue(t[0].DetailData)&&(e.GridVisibility=!0,e.ArrDetailData=t[0].DetailData,e.TotalQuantity=e.getSum(e.ArrDetailData,"Quantity"),e.SubTotal=e.getSum(e.ArrDetailData,"TotalAmount"))}),(function(t){return alert("error")}))}},{key:"onRoleDelete",value:function(t){console.log("Delete Event In Console"),window.confirm("Are you sure you want to delete?")}},{key:"DetailSavingClick",value:function(){this.ItemMandatory=!1,this.PriceMandatory=!1,this.QtyMandatory=!1,this.ProductDuplicate=!1,this.QtyExceed=!1;var t=!1;null!=this.ObjDetailData.ProductID&&""!=this.ObjDetailData.ProductID||(this.ItemMandatory=!0,t=!0),null!=this.ObjDetailData.Price&&""!=this.ObjDetailData.Price||(this.PriceMandatory=!0,t=!0),null!=this.ObjDetailData.Quantity&&""!=this.ObjDetailData.Quantity||(this.QtyMandatory=!0,t=!0),1==this.IsDuplicateExists(this.ObjDetailData.ProductID,this.ArrDetailData,"ProductID")&&(this.ProductDuplicate=!0,t=!0),parseInt(this.ObjDetailData.Quantity)>parseInt(this.Quantity)&&(this.QtyExceed=!0,t=!0),t||(this.GridVisibility=!0,this.ArrDetailData.push(this.ObjDetailData),console.log(this.ArrDetailData),this.ObjDetailData=new it,this.ItemBarcode="",this.ObjDetailData.NetAmount=null,this.TotalQuantity=this.getSum(this.ArrDetailData,"Quantity"),this.SubTotal=this.getSum(this.ArrDetailData,"NetAmount"),null==this.ObjMasterData.InvoiceDiscount||""==this.ObjMasterData.InvoiceDiscount||isNaN(this.ObjMasterData.InvoiceDiscount)?this.ObjMasterData.NetAmount=this.getSum(this.ArrDetailData,"NetAmount"):(this.ObjMasterData.NetAmount=this.getSum(this.ArrDetailData,"NetAmount")-this.ObjMasterData.InvoiceDiscount,this.ObjMasterData.TotalLineDiscount=this.ObjMasterData.NetAmount))}},{key:"deleteDetailData",value:function(t){window.confirm("Are you sure you want to delete?")&&(this.ArrDetailData.splice(t,1),0===this.ArrDetailData.length&&(this.GridVisibility=!1))}},{key:"getSum",value:function(t,e){return t.reduce((function(t,n){return t+n[e]}),0)}},{key:"IsDuplicateExists",value:function(t,e,n){var a;for(a=0;a<e.length;a++)if(e[a][n]==t)return!0;return!1}},{key:"GetDropdownSetups",value:function(){var t=this;this.dataservice.get("GRN/GetSetupData/"+this.Culture).subscribe((function(e){t.isArrayHasValue(e[0].Location)&&(t.ddlLocation=e[0].Location,t.ObjMasterData.BranchID=t.ddlLocation[0].BranchID)}),(function(t){return alert("error")}))}},{key:"openDialogSupplierLookUp",value:function(){var t=this;this.dialog.open(d.a,{width:"700px",data:{columnName:{Id:"",SupplierID:"Supplier ID",SupplierName:"Supplier Name"},whereClause:{Id:"1"},url:"GRN/lookupSupplier",urlSearch:"GRN/lookupSupplierSearch",hideColumns:"Id",headingName:"Supplier"}}).afterClosed().subscribe((function(e){null!=e&&(t.ObjMasterData.SupplierID=e.SupplierID,t.SupplierName=e.SupplierName)}))}},{key:"openDialogPONumberLookUp",value:function(){var t=this;this.dialog.open(d.a,{width:"700px",data:{columnName:{Id:"",POInvoiceNo:"PO Invoice No",OrderDate:"Order Date"},whereClause:{Id:"1"},url:"GRN/lookupPONumber",urlSearch:"GRN/lookupPONumberSearch",hideColumns:"Id",headingName:"Purchase Order"}}).afterClosed().subscribe((function(e){null!=e&&(t.getGRNOrderData(e.POInvoiceNo),t.ObjMasterData.POInvoiceNo=e.POInvoiceNo)}))}},{key:"openDialogItemBarcodeLookUp",value:function(){var t=this;this.dialog.open(d.a,{width:"700px",data:{columnName:{Id:"",ProductID:"Product ID",ProductName:"Product Name",Barcode:"Item Barcode",Quantity:"Quantity"},whereClause:{Id:"1"},url:"GRN/lookupItemBarcode",urlSearch:"GRN/lookupItemBarcodeSearch",hideColumns:"Id",headingName:"Product"}}).afterClosed().subscribe((function(e){null!=e&&(console.log(e),t.ObjDetailData.ProductID=e.ProductID,t.ItemBarcode=e.Barcode,t.ObjDetailData.ProductName=e.ProductName,t.Quantity=e.Quantity,t.ItemMandatory=!1)}))}},{key:"isArrayHasValue",value:function(t){return Boolean(Array.isArray(t)&&t.length)}},{key:"SaveData",value:function(){var t=this;this.PONoMandatory=!1,this.OrderDate=!1,this.SupplierDate=!1;var e=!1;null!=this.ObjMasterData.POInvoiceNo&&""!=this.ObjMasterData.POInvoiceNo||(this.PONoMandatory=!0,e=!0),null!=this.ObjMasterData.PurchaseDate&&""!=this.ObjMasterData.PurchaseDate||(this.OrderDate=!0,e=!0),null!=this.ObjMasterData.SupplierID&&""!=this.ObjMasterData.SupplierID||(this.SupplierDate=!0,e=!0),e||(this.ObjMasterData.PurchaseInvoice=this.tmpTransactionNo,this.dataservice.post("GRN/SaveRecord/",[this.ObjMasterData.PurchaseID,this.ObjMasterData,this.ArrDetailData]).subscribe((function(e){e&&(e.split("|"),"Insert"==e?(t.ObjMasterData=new at,t.ObjDetailData=new it,t.TotalQuantity=void 0,t.SubTotal=void 0,t.arrData=[],t.popup.ShowPopup("Insert"),t.GridVisibility=!1,t.SupplierName="",t.GetNewTransactionNo()):"Update"==e?t.popup.ShowPopup("Update"):alert("error"))}),(function(t){return alert("error")})))}},{key:"PriceChange",value:function(){this.PriceMandatory=!1,this.QtyMandatory=!1;var t=parseInt(this.ObjDetailData.Price)*parseInt(this.ObjDetailData.Quantity);isNaN(t)||(this.ObjDetailData.NetAmount=t,this.ObjDetailData.TotalAmount=t,isNaN(this.ObjDetailData.LineDiscount)||""==this.ObjDetailData.LineDiscount||null==this.ObjDetailData.LineDiscount||(t-=parseFloat(this.ObjDetailData.LineDiscount),this.ObjDetailData.NetAmount=t,this.ObjDetailData.TotalAmount=t))}},{key:"InvDiscountChange",value:function(){var t=parseInt(this.SubTotal)-parseInt(this.ObjMasterData.InvoiceDiscount);isNaN(t)||(this.ObjMasterData.TotalLineDiscount=t,this.ObjMasterData.NetAmount=t)}},{key:"TaxAmountChange",value:function(){var t=parseInt(this.ObjDetailData.TotalAmount)+parseInt(this.ObjDetailData.TaxAmount);isNaN(t)||(this.ObjDetailData.NetAmount=t)}}]),e}()).\u0275fac=function(t){return new(t||Z)(p.Ob(c.a),p.Ob(h.b),p.Ob(l.sb),p.Ob(u.a),p.Ob(s.a))},Z.\u0275cmp=p.Ib({type:Z,selectors:[["ngx-grn"]],decls:139,vars:33,consts:[[1,"row"],[1,"col-md-6","col-sm-12"],[1,"form-group"],["for","bTransaction",1,"label"],["nbInput","","fullWidth","","name","bTransaction","placeholder","Transaction No","readonly","",3,"ngModel","ngModelChange"],["class","caption status-danger",4,"ngIf"],["for","bod",1,"label"],["nbInput","","placeholder","Order Date","name","bod","autocomplete","off",2,"width","100%",3,"ngModel","nbDatepicker","ngModelChange"],["formpicker",""],["name","bActive",2,"display","none",3,"ngModel","ngModelChange"],["for","bPOInvoiceNo",1,"label"],["nbInput","","fullWidth","","name","bPOInvoiceNo","placeholder","PO Number","readonly","",2,"width","89%",3,"ngModel","ngModelChange"],[1,"fa","fa-search",3,"click"],["for","bLocation",1,"label"],["fullWidth","","name","bLocation",3,"selected","selectedChange"],[3,"value",4,"ngFor","ngForOf"],["for","bSupplier",1,"label"],["nbInput","","fullWidth","","name","bSupplier","placeholder","Supplier Name","readonly","",2,"width","89%",3,"ngModel","ngModelChange"],["for","bBarcode",1,"label"],["nbInput","","fullWidth","","name","bBarcode","placeholder","Item Barcode",2,"width","89%",3,"ngModel","ngModelChange"],["for","bIN",1,"label"],["nbInput","","fullWidth","","name","bIN","placeholder","Item Name","readonly","",2,"cursor","not-allowed",3,"ngModel","ngModelChange"],[1,"table-responsive-md"],["width","100%",1,"table","table-condensed","table-striped","table-bordered","table-hover"],[2,"color","white","background-color","#53555B","height","30px"],["nbInput","","fullWidth","","name","bCP","type","number","maxlength","8",3,"ngModel","input","ngModelChange"],["nbInput","","fullWidth","","name","bqty","type","number","maxlength","5",3,"ngModel","input","ngModelChange"],["nbInput","","fullWidth","","name","bDiscount","type","number","maxlength","5",3,"ngModel","input","ngModelChange"],["nbInput","","fullWidth","","name","bTotal","type","number","maxlength","10",3,"ngModel","ngModelChange"],["nbInput","","fullWidth","","name","btxA","type","number","maxlength","10",3,"ngModel","input","ngModelChange"],["nbInput","","fullWidth","","name","bNamt","type","number","readonly","",2,"cursor","not-allowed",3,"ngModel","ngModelChange"],["nbButton","","status","success",3,"click"],["class","table-responsive",4,"ngIf"],[1,"col-lg-8"],[1,"tab-content"],["id","delivery-method",1,"tab-block"],["action","#",1,"shipping-form"],[1,"form-group","col-md-8"],[1,"text-uppercase",2,"font-size","14px","font-weight","700"],["nbInput","","fullWidth","","name","bsummary",2,"height","100%","width","100%",3,"ngModel","ngModelChange"],[1,"col-lg-4"],[1,"block-body","order-summary"],[1,"order-menu","list-unstyled"],[1,"d-flex","justify-content-between"],["type","text","readonly","",2,"width","130px","text-align","right",3,"value"],[1,"d-flex","justify-content-between",2,"padding-top","5px"],["type","number","maxlength","6",2,"width","130px","text-align","right",3,"ngModel","input","ngModelChange"],["type","text","readonly","",1,"text-primary","price-total",2,"width","130px","text-align","right",3,"value"],[2,"text-align","right"],[1,"caption","status-danger"],[3,"value"],[1,"table-responsive"],[1,"table","table-condensed","table-striped","table-bordered","table-hover"],[4,"ngFor","ngForOf"],["type","image","width","30","height","20","src","../../../../assets/images/delete.png",3,"click"]],template:function(t,e){if(1&t&&(p.Ub(0,"nb-card"),p.Ub(1,"nb-card-header"),p.Lc(2," Good Receiving Note "),p.Tb(),p.Ub(3,"nb-card-body"),p.Ub(4,"div",0),p.Ub(5,"div",1),p.Ub(6,"div",2),p.Ub(7,"label",3),p.Lc(8,"Transaction No"),p.Tb(),p.Ub(9,"input",4),p.bc("ngModelChange",(function(t){return e.tmpTransactionNo=t})),p.Tb(),p.Jc(10,V,2,0,"p",5),p.Tb(),p.Tb(),p.Ub(11,"div",1),p.Ub(12,"div",2),p.Ub(13,"label",6),p.Lc(14,"Purchase Date"),p.Tb(),p.Ub(15,"input",7),p.bc("ngModelChange",(function(t){return e.ObjMasterData.PurchaseDate=t})),p.Tb(),p.Pb(16,"nb-datepicker",null,8),p.Jc(18,W,2,0,"p",5),p.Lc(19,"\xa0\xa0\xa0 "),p.Ub(20,"nb-checkbox",9),p.bc("ngModelChange",(function(t){return e.ObjMasterData.Posted=t})),p.Lc(21,"Posted"),p.Tb(),p.Tb(),p.Tb(),p.Ub(22,"div",1),p.Ub(23,"div",2),p.Ub(24,"label",10),p.Lc(25,"PO Number"),p.Tb(),p.Ub(26,"input",11),p.bc("ngModelChange",(function(t){return e.ObjMasterData.POInvoiceNo=t})),p.Tb(),p.Lc(27," \xa0\xa0 "),p.Ub(28,"i",12),p.bc("click",(function(){return e.openDialogPONumberLookUp()})),p.Tb(),p.Jc(29,E,2,0,"p",5),p.Tb(),p.Tb(),p.Ub(30,"div",1),p.Ub(31,"div",2),p.Ub(32,"label",13),p.Lc(33,"Location"),p.Tb(),p.Ub(34,"nb-select",14),p.bc("selectedChange",(function(t){return e.ObjMasterData.BranchID=t})),p.Jc(35,J,2,2,"nb-option",15),p.Tb(),p.Tb(),p.Tb(),p.Ub(36,"div",1),p.Ub(37,"div",2),p.Ub(38,"label",16),p.Lc(39,"Supplier Name"),p.Tb(),p.Ub(40,"input",17),p.bc("ngModelChange",(function(t){return e.SupplierName=t})),p.Tb(),p.Lc(41," \xa0\xa0 "),p.Ub(42,"i",12),p.bc("click",(function(){return e.openDialogSupplierLookUp()})),p.Tb(),p.Jc(43,F,2,0,"p",5),p.Tb(),p.Tb(),p.Tb(),p.Tb(),p.Ub(44,"nb-card-body"),p.Pb(45,"hr"),p.Ub(46,"div",0),p.Ub(47,"div",1),p.Ub(48,"div",2),p.Ub(49,"label",18),p.Lc(50,"Item Barcode"),p.Tb(),p.Ub(51,"input",19),p.bc("ngModelChange",(function(t){return e.ItemBarcode=t})),p.Tb(),p.Lc(52,"\xa0\xa0 "),p.Ub(53,"i",12),p.bc("click",(function(){return e.openDialogItemBarcodeLookUp()})),p.Tb(),p.Jc(54,H,2,0,"p",5),p.Jc(55,q,2,0,"p",5),p.Tb(),p.Tb(),p.Ub(56,"div",1),p.Ub(57,"div",2),p.Ub(58,"label",20),p.Lc(59,"Item Name"),p.Tb(),p.Ub(60,"input",21),p.bc("ngModelChange",(function(t){return e.ObjDetailData.ProductName=t})),p.Tb(),p.Tb(),p.Tb(),p.Tb(),p.Ub(61,"div",0),p.Ub(62,"div",22),p.Ub(63,"table",23),p.Ub(64,"tr",24),p.Ub(65,"td"),p.Lc(66,"Cost Price"),p.Tb(),p.Ub(67,"td"),p.Lc(68,"Quantity"),p.Tb(),p.Ub(69,"td"),p.Lc(70,"Discount"),p.Tb(),p.Ub(71,"td"),p.Lc(72,"Total Amount"),p.Tb(),p.Ub(73,"td"),p.Lc(74,"Tax Amount"),p.Tb(),p.Ub(75,"td"),p.Lc(76,"Net Amount"),p.Tb(),p.Pb(77,"td"),p.Tb(),p.Ub(78,"tr"),p.Ub(79,"td"),p.Ub(80,"input",25),p.bc("input",(function(){return e.PriceChange()}))("ngModelChange",(function(t){return e.ObjDetailData.Price=t})),p.Tb(),p.Jc(81,z,2,0,"p",5),p.Tb(),p.Ub(82,"td"),p.Ub(83,"input",26),p.bc("input",(function(){return e.PriceChange()}))("ngModelChange",(function(t){return e.ObjDetailData.Quantity=t})),p.Tb(),p.Jc(84,$,2,0,"p",5),p.Jc(85,K,2,1,"p",5),p.Tb(),p.Ub(86,"td"),p.Ub(87,"input",27),p.bc("input",(function(){return e.PriceChange()}))("ngModelChange",(function(t){return e.ObjDetailData.LineDiscount=t})),p.Tb(),p.Tb(),p.Ub(88,"td"),p.Ub(89,"input",28),p.bc("ngModelChange",(function(t){return e.ObjDetailData.TotalAmount=t})),p.Tb(),p.Tb(),p.Ub(90,"td"),p.Ub(91,"input",29),p.bc("input",(function(){return e.TaxAmountChange()}))("ngModelChange",(function(t){return e.ObjDetailData.TaxAmount=t})),p.Tb(),p.Tb(),p.Ub(92,"td"),p.Ub(93,"input",30),p.bc("ngModelChange",(function(t){return e.ObjDetailData.NetAmount=t})),p.Tb(),p.Tb(),p.Ub(94,"td"),p.Ub(95,"button",31),p.bc("click",(function(){return e.DetailSavingClick()})),p.Lc(96,"Add"),p.Tb(),p.Tb(),p.Tb(),p.Tb(),p.Tb(),p.Jc(97,Y,20,1,"div",32),p.Tb(),p.Tb(),p.Ub(98,"nb-card-body"),p.Ub(99,"div",0),p.Ub(100,"div",33),p.Ub(101,"div",34),p.Ub(102,"div",35),p.Ub(103,"form",36),p.Ub(104,"div",0),p.Ub(105,"div",37),p.Ub(106,"label",38),p.Lc(107,"Description"),p.Tb(),p.Ub(108,"textarea",39),p.bc("ngModelChange",(function(t){return e.ObjMasterData.Description=t})),p.Tb(),p.Tb(),p.Tb(),p.Tb(),p.Tb(),p.Tb(),p.Tb(),p.Ub(109,"div",40),p.Pb(110,"br"),p.Ub(111,"div",41),p.Ub(112,"label",38),p.Lc(113,"GRN Summary"),p.Tb(),p.Ub(114,"ul",42),p.Ub(115,"li",43),p.Ub(116,"span"),p.Lc(117,"Total Quantity "),p.Tb(),p.Pb(118,"input",44),p.Tb(),p.Ub(119,"li",45),p.Ub(120,"span"),p.Lc(121,"Sub Total"),p.Tb(),p.Pb(122,"input",44),p.Tb(),p.Ub(123,"li",45),p.Ub(124,"span"),p.Lc(125,"Invoice Discount"),p.Tb(),p.Ub(126,"input",46),p.bc("input",(function(){return e.InvDiscountChange()}))("ngModelChange",(function(t){return e.ObjMasterData.InvoiceDiscount=t})),p.Tb(),p.Tb(),p.Ub(127,"li",45),p.Ub(128,"span"),p.Lc(129,"After inv Discount"),p.Tb(),p.Pb(130,"input",44),p.Tb(),p.Ub(131,"li",45),p.Ub(132,"span"),p.Lc(133,"Net Amount"),p.Tb(),p.Pb(134,"input",47),p.Tb(),p.Tb(),p.Tb(),p.Tb(),p.Tb(),p.Pb(135,"hr"),p.Ub(136,"div",48),p.Ub(137,"button",31),p.bc("click",(function(){return e.SaveData()})),p.Lc(138),p.Tb(),p.Tb(),p.Tb(),p.Tb()),2&t){var n=p.uc(17);p.Cb(9),p.lc("ngModel",e.tmpTransactionNo),p.Cb(1),p.lc("ngIf",e.TrxNoMandatory),p.Cb(5),p.lc("ngModel",e.ObjMasterData.PurchaseDate)("nbDatepicker",n),p.Cb(3),p.lc("ngIf",e.OrderDate),p.Cb(2),p.lc("ngModel",e.ObjMasterData.Posted),p.Cb(6),p.lc("ngModel",e.ObjMasterData.POInvoiceNo),p.Cb(3),p.lc("ngIf",e.PONoMandatory),p.Cb(5),p.lc("selected",e.ObjMasterData.BranchID),p.Cb(1),p.lc("ngForOf",e.ddlLocation),p.Cb(5),p.lc("ngModel",e.SupplierName),p.Cb(3),p.lc("ngIf",e.SupplierDate),p.Cb(8),p.lc("ngModel",e.ItemBarcode),p.Cb(3),p.lc("ngIf",e.ItemMandatory),p.Cb(1),p.lc("ngIf",e.ProductDuplicate),p.Cb(5),p.lc("ngModel",e.ObjDetailData.ProductName),p.Cb(20),p.lc("ngModel",e.ObjDetailData.Price),p.Cb(1),p.lc("ngIf",e.PriceMandatory),p.Cb(2),p.lc("ngModel",e.ObjDetailData.Quantity),p.Cb(1),p.lc("ngIf",e.QtyMandatory),p.Cb(1),p.lc("ngIf",e.QtyExceed),p.Cb(2),p.lc("ngModel",e.ObjDetailData.LineDiscount),p.Cb(2),p.lc("ngModel",e.ObjDetailData.TotalAmount),p.Cb(2),p.lc("ngModel",e.ObjDetailData.TaxAmount),p.Cb(2),p.lc("ngModel",e.ObjDetailData.NetAmount),p.Cb(4),p.lc("ngIf",e.GridVisibility),p.Cb(11),p.lc("ngModel",e.ObjMasterData.Description),p.Cb(10),p.mc("value",e.TotalQuantity),p.Cb(4),p.mc("value",e.SubTotal),p.Cb(4),p.lc("ngModel",e.ObjMasterData.InvoiceDiscount),p.Cb(4),p.mc("value",e.ObjMasterData.TotalLineDiscount),p.Cb(4),p.mc("value",e.ObjMasterData.NetAmount),p.Cb(4),p.Mc(e.btnSave)}},directives:[l.o,l.q,l.n,l.H,r.b,r.p,r.s,o.p,l.z,l.y,l.t,l.bb,o.o,r.u,r.k,l.l,r.C,r.q,r.r,l.U],styles:[".nb-theme-default   [_nghost-%COMP%]   .position-select[_ngcontent-%COMP%]{min-width:13rem}.nb-theme-default   [_nghost-%COMP%]   .label[_ngcontent-%COMP%]{display:block}.nb-theme-default   [_nghost-%COMP%]   .input-group.input-group-unstyled[_ngcontent-%COMP%]   input.form-control[_ngcontent-%COMP%]{border-radius:4px}.nb-theme-default   [_nghost-%COMP%]   .input-group-unstyled[_ngcontent-%COMP%]   .input-group-addon[_ngcontent-%COMP%]{border-radius:4px;border:0;background-color:transparent}[dir=ltr]   .nb-theme-default   [_nghost-%COMP%]   nb-card-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:first-child{margin-right:1rem}[dir=rtl]   .nb-theme-default   [_nghost-%COMP%]   nb-card-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:first-child{margin-left:1rem}.nb-theme-dark   [_nghost-%COMP%]   .position-select[_ngcontent-%COMP%]{min-width:13rem}.nb-theme-dark   [_nghost-%COMP%]   .label[_ngcontent-%COMP%]{display:block}.nb-theme-dark   [_nghost-%COMP%]   .input-group.input-group-unstyled[_ngcontent-%COMP%]   input.form-control[_ngcontent-%COMP%]{border-radius:4px}.nb-theme-dark   [_nghost-%COMP%]   .input-group-unstyled[_ngcontent-%COMP%]   .input-group-addon[_ngcontent-%COMP%]{border-radius:4px;border:0;background-color:transparent}[dir=ltr]   .nb-theme-dark   [_nghost-%COMP%]   nb-card-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:first-child{margin-right:1rem}[dir=rtl]   .nb-theme-dark   [_nghost-%COMP%]   nb-card-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:first-child{margin-left:1rem}.nb-theme-cosmic   [_nghost-%COMP%]   .position-select[_ngcontent-%COMP%]{min-width:13rem}.nb-theme-cosmic   [_nghost-%COMP%]   .label[_ngcontent-%COMP%]{display:block}.nb-theme-cosmic   [_nghost-%COMP%]   .input-group.input-group-unstyled[_ngcontent-%COMP%]   input.form-control[_ngcontent-%COMP%]{border-radius:4px}.nb-theme-cosmic   [_nghost-%COMP%]   .input-group-unstyled[_ngcontent-%COMP%]   .input-group-addon[_ngcontent-%COMP%]{border-radius:4px;border:0;background-color:transparent}[dir=ltr]   .nb-theme-cosmic   [_nghost-%COMP%]   nb-card-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:first-child{margin-right:1rem}[dir=rtl]   .nb-theme-cosmic   [_nghost-%COMP%]   nb-card-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:first-child{margin-left:1rem}.nb-theme-corporate   [_nghost-%COMP%]   .position-select[_ngcontent-%COMP%]{min-width:13rem}.nb-theme-corporate   [_nghost-%COMP%]   .label[_ngcontent-%COMP%]{display:block}.nb-theme-corporate   [_nghost-%COMP%]   .input-group.input-group-unstyled[_ngcontent-%COMP%]   input.form-control[_ngcontent-%COMP%]{border-radius:4px}.nb-theme-corporate   [_nghost-%COMP%]   .input-group-unstyled[_ngcontent-%COMP%]   .input-group-addon[_ngcontent-%COMP%]{border-radius:4px;border:0;background-color:transparent}[dir=ltr]   .nb-theme-corporate   [_nghost-%COMP%]   nb-card-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:first-child{margin-right:1rem}[dir=rtl]   .nb-theme-corporate   [_nghost-%COMP%]   nb-card-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:first-child{margin-left:1rem}@media only screen and (max-width:700px){input[type=number][_ngcontent-%COMP%]{width:100px!important}}"]}),Z),at=function e(){t(this,e),this.PurchaseID=0,this.SupplierID="",this.PurchaseInvoice="",this.SupplierInvoice="",this.POInvoiceNo="",this.Posted=!1,this.Notes=""},it=function e(){t(this,e)},ot=[{path:"",component:(tt=function e(){t(this,e)},tt.\u0275fac=function(t){return new(t||tt)},tt.\u0275cmp=p.Ib({type:tt,selectors:[["ngx-purchasemanagement"]],decls:1,vars:0,template:function(t,e){1&t&&p.Pb(0,"router-outlet")},directives:[c.h],encapsulation:2}),tt),children:[{path:"purchaseorder",component:I},{path:"purchaseorderlist",component:A},{path:"grn",component:nt},{path:"supplier",component:Q}]}],rt=((et=function e(){t(this,e)}).\u0275mod=p.Mb({type:et}),et.\u0275inj=p.Lb({factory:function(t){return new(t||et)},imports:[[c.g.forChild(ot)],c.g]}),et),lt=i("M9IT");i("yqoM");var bt,ct=[o.c,r.j,b.a,rt,l.B.forChild(),l.Bb.forChild(),l.r,l.u,l.ob,l.V,l.m,l.I,l.cb,l.wb,j.c,h.c,lt.a,l.A.forRoot()],ut=[],st=((bt=function e(){t(this,e)}).\u0275mod=p.Mb({type:bt}),bt.\u0275inj=p.Lb({factory:function(t){return new(t||bt)},providers:[].concat(ut),imports:[[].concat(ct)]}),bt)}}])}();